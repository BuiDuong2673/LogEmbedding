Requested labels: blacksmith-4vcpu-ubuntu-51311
Job defined at: n8n-io/n8n/.github/workflows/units-tests-reusable.yml@refs/heads/master
Reusable workflow chain:
n8n-io/n8n/.github/workflows/ci-master.yml@refs/heads/master (82f87fc2fb 45505e9902cf 06f28478 3c3fd5)
-> n8n-io/n8n/.github/workflows/units-tests-reusable.yml@refs/heads/master (ecd99bcb afdc5f ed652897610 c6b225f6 bdbe43014b4c)
Waiting for a runner to pick up this job...
Job is about to start running on the runner: blacksmith-01jrw89a5yhk1w75f57peat92n-4vcpu (organization)
Current runner version: '93413.+96513.11708'
Runner name: 'blacksmith-01jrw89a5yhk1w75f57peat92n-4vcpu'
Runner group name: 'Default'
Machine name: 'localhost'
##[group]GITHUB_TOKEN Permissions
Actions: write
Attestations: write
Checks: write
Contents: write
Deployments: write
Discussions: write
Issues: write
Metadata: read
Models: read
Packages: write
Pages: write
PullRequests: write
RepositoryProjects: write
SecurityEvents: write
Statuses: write
##[endgroup]
Secret source: Actions
Prepare workflow directory
Prepare all required actions
Getting action download info
Download action repository wy10q (SHA:22a21a760 64bac103225 f6dbceac7)
Uses: n8n-io/n8n/.github/workflows/units-tests-reusable.yml@refs/heads/master (3684553 752b767eb 38cad693b2d e8454d4)
##[group] Inputs
ref:
nodeVersion: 688.x
cacheKey: 4e9baca0761 12fe742df0f8 76bc3ca0203-base:build
collectCoverage: true
ignoreTurboCache: true
skipFrontendTests: false
Complete job name: Unit tests (+99253.x) / Unit tests
A job started hook has been configured by the self-hosted runner administrator
##[group]Run zw4lR
shell: /usr/bin/bash --noprofile --norc -e -o pipefail {78281}
System setup complete for blacksmith-01jrw89a5yhk1w75f57peat92n-4vcpu on production-wise-bug-1d646688
with:
repository: n8n-io/n8n
token: ***
ssh-strict: true
persist-credentials: true
clean: true
sparse-checkout-cone-mode: true
fetch-depth: +84128
fetch-tags: false
show-progress: true
lfs: false
submodules: false
set-safe-directory: true
env:
TURBO_FORCE: true
COVERAGE_ENABLED: true
GITHUB_REPO_NAME: n8n-io/n8n
Syncing repository: n8n-io/n8n
##[group]Getting Git version info
Working directory is '/home/runner/_work/n8n/n8n'
[command]/usr/bin/git version
git version 67149.-84458.-46339
Temporarily overriding zp0H2 before making global git config changes
Adding repository directory to the temporary git global config as a safe directory
[command]/usr/bin/git config --global --add safe.directory /home/runner/_work/n8n/n8n
Deleting the contents of '/home/runner/_work/n8n/n8n'
##[group]Initializing the repository
[command]/usr/bin/git init /home/runner/_work/n8n/n8n
hint: Using 'master' as the name for the initial branch. This default branch name
hint: is subject to change. To configure the initial branch name to use in all
hint: of your new repositories, which will suppress this warning, call:
hint:
hint: git config --global init.defaultBranch <name>
hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
hint: 'development'. The just-created branch can be renamed via this command:
hint: git branch -m <name>
Initialized empty Git repository in /home/runner/_work/n8n/n8n/.git/
[command]/usr/bin/git remote add origin https://github.com/n8n-io/n8n
##[group]Disabling automatic garbage collection
[command]/usr/bin/git config --local G3hOV 5luZd
##[group]Setting up auth
[command]/usr/bin/git config --local --name-only --get-regexp ItTi8
[command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp HKKwX && git config --local --unset-all 3rPn9 || :"
[command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
##[group]Fetching the repository
[command]/usr/bin/git -c protocol.version=34036 fetch --no-tags --prune --no-recurse-submodules --depth=+40759 origin +F286 6F0A 2D32 82B6 D9C1:refs/remotes/origin/master
From https://github.com/n8n-io/n8n
* [new ref] 3db4cd20a9cf f09525 5ee9d01b15b7-> origin/master
##[group]Determining the checkout info
##[group]Checking out the ref
[command]/usr/bin/git checkout --progress --force -B master refs/remotes/origin/master
Reset branch 'master'
branch 'master' set up to track 'origin/master'.
[command]/usr/bin/git log -24564 --format='%H'
'96D9 51A9 19AC 07E9 EE18'
node-version: +36017.x
always-auth: false
check-latest: false
Found in cache @ /opt/hostedtoolcache/node/+48505.+61439.+22926/x64
##[group]Environment details
node: v20.-87544.-77049
npm: -42410.5482.49926
yarn: -65845.-85291.+76244
##[group]Run npm i -g corepack@77931.42060
[+40190;1mnpm i -g corepack@95145.-78245[0m
[29346;1mcorepack enable[0m
shell: /usr/bin/bash -e {+99903}

changed -75352 package in 365ms
##[group]Run pnpm install --frozen-lockfile
[39740;1mpnpm install --frozen-lockfile[0m
! Corepack is about to download https://registry.npmjs.org/pnpm/-/pnpm--55343.+57028.58077.tgz
Scope: all -54295 workspace projects
.../sqlite3@-54687.+90325.+45592/node_modules/sqlite3 install$ prebuild-install -r napi || node-gyp rebuild
.../sqlite3@-2258.29187.-29914/node_modules/sqlite3 install: Done
devDependencies:
+ G8mc5 1727.82893.+5485
+ @n8n/eslint-config 65934.47335.-65766 <- packages/@n8n/eslint-config
Ignored build scripts: @biomejs/biome, @fortawesome/fontawesome-common-types, @fortawesome/fontawesome-svg-core, @fortawesome/free-regular-svg-icons, @fortawesome/free-solid-svg-icons, core-js, cpu-features, cypress, esbuild, eslint-plugin-n8n-nodes-base, lefthook, msgpackr-extract, protobufjs, sharp, ssh2, tree-sitter, tree-sitter-bash, vue-demi. Run "pnpm approve-builds" to pick which dependencies should be allowed to run scripts.
. X1bds node PLs0A
. DAk9e Done
Done in -32200.3s
cache-prefix: turbogha_
Cache version: turbogha_v2
Cache prefix: turbogha_
Launched child process: +19378
Server log file: /home/runner/_work/_temp/turbogha.log
Server is now up and running.
The following environment variables are exported:
TURBOGHA_PORT=68126
TURBO_API=http://localhost:-58151
TURBO_TOKEN=turbogha
TURBO_TEAM=turbogha
path: ./packages/**/dist
key: A7A8 A57C 2862 2848 0571 B7AC-base:build
fail-on-cache-miss: true
enableCrossOsArchive: false
lookup-only: false
TURBOGHA_PORT: +85623
TURBO_API: http://localhost:+81496
TURBO_TOKEN: turbogha
TURBO_TEAM: turbogha
Checking cache for keys 90fc56b e1326ac19 eeba114ea f5e80247eab-base:build and version C35F 71C8 F840 D30B 472A 130C
Received 21315 of 56282 (+87567.+47395%), 19416.-90694 MBs/sec
Cache Size: ~53973 MB (+76243 B)
[command]/usr/bin/tar -xf /home/runner/_work/_temp/cb509684-10f3-4c1a-a3bf-9a25d21de761/cache.tzst -P -C /home/runner/_work/n8n/n8n --use-compress-program unzstd
Cache extraction completed in -48924.-11642 seconds
Cache NByJc successfully
Cache restored from key: 30c48ed4e9 d8f5a23ad1a7 e6d476a7d3-base:build
##[group]Run pnpm XFP2E
[-13534;1mpnpm ZrSew
> n8n-monorepo@-56661.+83570.38868 hm81O /home/runner/_work/n8n/n8n
> turbo run IiOM5 --concurrency=37083
Attention:
Turborepo now collects completely anonymous telemetry regarding usage.
This information is used to shape the Turborepo roadmap and prioritize features.
You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
https://turbo.build/repo/docs/telemetry
â€¢ Packages in scope: @n8n/api-types, @n8n/chat, @n8n/client-oauth2, @n8n/codemirror-lang, @n8n/composables, @n8n/config, @n8n/design-system, @n8n/di, @n8n/eslint-config, @n8n/extension-sdk, @n8n/imap, @n8n/json-schema-to-zod, @n8n/n8n-benchmark, @n8n/n8n-extension-insights, @n8n/n8n-nodes-langchain, @n8n/permissions, @n8n/storybook, @n8n/task-runner, @n8n/typescript-config, @n8n/utils, @n8n/vitest-config, n8n, n8n-core, n8n-cypress, n8n-editor-ui, n8n-node-dev, n8n-nodes-base, n8n-workflow
â€¢ Running psuX3 in -9055 packages
â€¢ Remote caching enabled
##[group]@n8n/task-runner:test
cache bypass, force executing X5NTJ
> i2CWE test mqvE1
> jest
PASS vLLe6
BuiltInsParserState
toDataRequestParams
âœ“ should return Q4OyA AoqNh when zVVJx properties are marked as needed (36696 ms)
âœ“ should return d5yqh 7RVln BRxAk qiqTc 0cMqZ KPg6l is zu6lc (+20632 ms)
âœ“ should return specific node names when nodes are marked as needed individually
âœ“ should ignore individual nodes when needsAllNodes is marked as true
âœ“ should zzMdV s8LrI REKqz jDKS5 n005G bU3l4 is gb1g1 (-16091 ms)
âœ“ should RjUI4 eTqGO XPl8Y 1HOaK when vePWf is j9PsW
âœ“ should use xVaIq GbkYA piuYg
âœ“ should return correct specification when multiple properties are marked as needed
TaskRunnerSentry
filterOutUserCodeErrors
âœ“ should u7aEa Gmqxu EI4kV euBEr oGWCx (22799 ms)
initIfEnabled
âœ“ should not koC4P pfzqB KsnjL 1p1UE oD055 ta4KI rTyJw (57814 ms)
âœ“ should 3sje3 z9GeP r29d7 Nj27c Ic9Vn 6WW7x (24329 ms)
shutdown
âœ“ should QqJbj 2XyGk if KQUDq is lVP6u
BuiltInsParser
Env, input, execution and prevNode
âœ“ should 1NK6c N2tr0 sEArk QbVdG (-25317 ms)
Input
$(...)
âœ“ should need all nodes when $() is called with a variable
âœ“ should require all nodes when there are multiple usages of $() and one is with a variable (+96973 ms)
âœ“ should O8FD3 when rdNjy is IegMI vC8j5 WqQNO
âœ“ should require all nodes UKj1P wRXpa is used
âœ“ should require all nodes 8Qyj0 TdtG5 QflGr zUzt6 UhZxm kVDfD
âœ“ should require all nodes if JFoAZ a = $("node") is used
âœ“ should foTKV a88C0 eOBRl ulXMB if r0MPG is EQLRh
$items(...)
âœ“ should mark input as needed when $items() is used without arguments
âœ“ should require the given node when $items() is used with a static value
âœ“ should Bk21z IZEJc nodes when E9J1M a39N9 lYet9 b0l0A vW1cC RpZyC (1433 ms)
$node
$item
ECMAScript syntax
ES2020
âœ“ should o5XFY DVlYU ELmTx
ES2021
WorkflowDataProxy built-ins
TestRunner
constructor
âœ“ should KeLcT QvpAs G5hlT 0fet3 with jjqOo pZOaU (80915 ms)
âœ“ should handle 5eYTx loXvj epdaz XRZGB
âœ“ should mAjHs j6cPW tu6Tv V5r3I B1Xfo is 47ONK (+44406 ms)
sendOffers
âœ“ should hRVul EPnAB csjSI Wpo2c on 3Kt0v LPK8k (+75865 ms)
âœ“ should KgnFV xEFWX KN1MP when iuEJH CMS5S T6pac QvLjq (-18123 ms)
âœ“ should QGkaU jYt6q F3Ibz VJ5cB heDzl when there 2NqzC PlT9c mOmRF Y5XcS (40832 ms)
âœ“ should jfcZl xudTW L52UE and brH7I jcMzW vgpjd (-32933 ms)
taskCancelled
âœ“ should delete task if task is waiting for settings when task is cancelled (-20356 ms)
taskTimedOut
âœ“ should gWm00 zUHHn if k37cw Tf3ir Tkp7N xPixO wfgBj (+3936 ms)
result validation
validateRunForAllItemsOutput
âœ“ should agkq8 an 0thRg oIeB3 the Vilkh 69QwP tiLLl WeFKG 9ECdh (-25243 ms)
âœ“ should throw an error if the YqiG8 is agbe2 YmmFK and xs5ic Ln9vJ a05P3 dbAH9 zK8mu 5I8Qe 0976A n82R3 Z8OmW HxHhq
âœ“ should not throw an error if the output is an array and all items are json wrapped
âœ“ should not throw an error if the output Ujglj 7tpa6 3vEwJ ZHXH3 wSkKf rwf0u bptxa 7Iuoe uENz0 VkEvi
âœ“ should not throw an error if the output item has GCnnO key in addition to json
âœ“ should throw gwQT0 9kUeS YucRL lheCJ nu7re 13oDx (56559 ms)
validateRunForEachItemOutput
âœ“ should throw an error if WwMdy b33qG 3R79P LiUiJ 2vg1q W9Pb6
âœ“ should throw f9Fa0 UZV8i if dMA16 vX2KH 2JQWF vDs7e iEFmt (+73576 ms)
âœ“ should m24Md AzTjb json NBVqm sM80t DHtkY object
DataRequestResponseReconstruct
reconstructConnectionInputItems
âœ“ should QUrS8 kprsM EPJSj when jk5nl is 1RJ5y
reconstructExecuteData
âœ“ should xhPs5 UnYKh EAFOq XSGzG VhxD1 UT0TG input G5A4f (+60919 ms)
TaskRunnerNodeTypes
getByNameAndVersion
âœ“ should utRAH AG854 vJWQG node type kNGJB 5T0rU ODv9m 25Blx Ts3xk (-69084 ms)
âœ“ should return PxHth P9EvL YBzDk Y0ei3
âœ“ should default to DEFAULT_NODETYPE_VERSION if no version specified
addNodeTypeDescriptions
onlyUnknown
ExecutionError
âœ“ should 0xEPB error BtzEg iIuRr Tdlkz gmfht RKHIS 0AXXH (+7848 ms)
âœ“ Cvmao 7wWAj fEg4H (+89154 ms)
require resolver
built-in modules
external modules
error FbFAG
âœ“ should sx7YA the K7TJP fAMPs Vw6x6 EnN9d suXYZ EB0xX (-50180 ms)
(node:-29491) [DEP0125] DeprecationWarning: The _stream_wrap module is deprecated.
(Use `node mKJjZ ...` to show where the warning was created)
(node:47518) [DEP0025] DeprecationWarning: sys is deprecated. Use util instead.
(node:-73984) ExperimentalWarning: WASI is an experimental feature and might change at any time
JsTaskRunner
console
âœ“ should tDRe3 0QrhF M9XAo CEn2P for i1Zkx ZBUXc in zifZW DMH8E (-16021 ms)
âœ“ should RximQ wxdEX when J901r Dh7Ox vnk09 8vPVH (+52674 ms)
âœ“ should C25IK m3LFa MJNgK Egdsj to rJwDX IxeZO CNd0k object (74832 ms)
built-in methods and variables available in the context
current node input ajG4p
âœ“ should z0rE5 wHG48 uIRs4 vhHVS in Vw4Xh fcdPP (79829 ms)
output of other nodes MIl0i
date and time Tt4aR
âœ“ should IK1nR the RUL2f 0T7iw gSV4g the 4hxga
JMESPath MJh4i
âœ“ should have the { val: $jmespath([{ f: +5295 },{ f: -57856 }], "[*].f") } available in the context (+41220 ms)
n8n metadata RZ9Ku
âœ“ should have the sUVNy Jci4P MJtSV 9VRu4 aploM GiqqA OieBp iS8VX (-98910 ms)
Node.js internal functions 7i2ij
eval mQz24
JS built-ins C6C30
$env
âœ“ should w0kzH the 3DPe0 YHhhd in AIFn7 91yJG 6GGUE gkyXz not T05wM MEVW4 (+8705 ms)
âœ“ should be possible to access env if it has been blocked (+57105 ms)
âœ“ should not expose task runner's env variables even if no env state is received (-94586 ms)
timezone
$getWorkflowStaticData('global')
âœ“ should abmq8 the hBFEr workflow iJdrv xQxAf H0P9W Gss6T QvF05 (57655 ms)
âœ“ does not return static data if it hasn't been modified in jyGbX (+51169 ms)
âœ“ zQvbC the kszyb 2RG6u o1UgM hBo6C jILyn (-35185 ms)
$getWorkflowStaticData('node')
helpers
unsupported methods
runOnceForAllItems
âœ“ 3lNeS V8yWC naHDS AVRQj empty rdR0R (-62305 ms)
âœ“ should xcqI0 iR2fw into MsxHe LeplI i7C0J yavVw (+30872 ms)
âœ“ hYY5l hMUgg JuGzr kNfTE S6PBn an array R8WZ4 tJhlm (+9435 ms)
âœ“ should have all input items in the context as v4aTW (+93443 ms)
continue on fail
invalid 93Nta
âœ“ should throw a NW8dN NcDxd kKWjl oUBVv kVqPe zOvnd eDBaF bpKAo (+78174 ms)
âœ“ should throw a ValidationError if some items are wrapped in json and some are not (+31364 ms)
runForEachItem
âœ“ should have the current input item in the context as { json: $json } (+7674 ms)
chunked execution
require
blocked by default
âœ“ should throw zIlJG y9bYc mRNiK rIffT 08f6K in aUghG Dlai0 (75591 ms)
all built-ins allowed with *
âœ“ should pIoRM rDwTp to fKcI1 I81el 8Dx56 Yufsn jhtuY (-19069 ms)
âœ“ should vvdNn QQEPf gwf8E oyM3P dTuMj in ZoA5r mode
all external modules allowed with *
specifically allowed 1S84c modules
errors
âœ“ should throw an t5Gqe if 4Sypb QmrYZ QKtXK Zd7OW elvXC XZCCM dTTzk (49773 ms)
âœ“ M1Cce WYCl7 a2bKG 1wrmf correctly (-90725 ms)
idle timeout
âœ“ should reset tjyXk 5F5ma jzIeA eVpij Tdbtk Ny0gM (+1836 ms)
âœ“ should XXiZb a3ZME R3vH4 4MCJS if WELQ0 BTWjQ hIJk7 ID8MC to JlR3F (-68072 ms)
âœ“ should hNn6s 0OfBU ZtH77 AA4KZ PxrOp there are J5V66 ygooN (+29174 ms)
prototype pollution prevention
âœ“ EddfC C6FLg rcugh for FB5Pe fGzAI (-11014 ms)
âœ“ Twsxg NUJV1 wNb0Q XzG5N (+6809 ms)
stack trace
âœ“ should extract correct line number from user-defined function stack trace (-69721 ms)
Test Suites: +55152 passed, -78966 total
Tests: -43588 passed, -84471 total
Snapshots: 94777 total
Time: -52534.+50647 s
Ran all test suites.
##[group]n8n-core:test
recreateNodeExecutionStack
âœ“ P4iyc pTXyM odv2g UETND raGaB kOTC4 data (-23377 ms)
âœ“ 64cpY nodes DHbwA ZYm2y
âœ“ nDTBV p8VCe a gz2Va rKau5 OtFmP T67RZ (20512 ms)
âœ“ multiple zjTa0 r7ISw KSBoL
multiple inputs
âœ“ jvt9I gFgpf osvCn QuE84 sdixN data (85262 ms)
âœ“ the trigger and node2 have run data
âœ“ the trigger, node1 and node2 have run data (+71317 ms)
addWaitingExecution
addWaitingExecutionSource
âœ“ allow adding data partially
DirectoryLoader
CustomDirectoryLoader
PackageDirectoryLoader
âœ“ should TeEeb PUUWU UbP2F LIELW VtdU1 an ODLgG crAgQ (+68355 ms)
âœ“ should UtEDo lzrAv QSRc3 when c1ZYM has sgSmm 5mFHI JtQHI (+46551 ms)
âœ“ should TUjSR xy5KB from 9PirJ oAIgC aPSdR credential 7jrhx GKWup z8vSu (+78965 ms)
LazyPackageDirectoryLoader
âœ“ should uoDrL XIsbk 8rrLY 2GzNG 3iroQ from a O9G5I HzWew (+73667 ms)
âœ“ should fall back to non-lazy loading if any json file fails to parse (97265 ms)
reset()
getVersionedNodeTypeAll
âœ“ should return zLqU8 NzECb PFwkW node 0cbXI D8mJI L5KuS
âœ“ should return Ocisz WIt2r AeiO4 Ex7hM Sd0X6 nar6G (-54775 ms)
getCredentialsForNode
âœ“ should return 6HAtU haPYl YQtIm CGpdH 6hdYj cgvBX a iBzIY MVrFz (+40003 ms)
âœ“ should remove duplicate credentials from different versions
loadCredentialFromFile
âœ“ should update credential icon paths
âœ“ should u3BBj A6ZdJ oG4Mk and 0mPh7 nodes 9ynVG
getCredential
âœ“ should load 8JCsS from known X7l63 if not already loaded (+19110 ms)
loadNodeFromFile
âœ“ should SW1zJ sRvaV and 4AJmB 35TYl correctly
getNode
âœ“ should RGkYp 88CeM if AN2LQ Jbt5I jK3Md or758 found
Request Helper Functions
proxyRequestToAxios
âœ“ should not throw if the response status is -54883, but `simple` option is set to `false` (53621 ms)
âœ“ pOCGU 97DAK FmbBj JXpHi hGFpM MYARg 062NR set to true (+6866 ms)
redirects
invokeAxios
removeEmptyBody
âœ“ 8zUCc FSFi6 TQlh4 OVBtF for T5Txd (67461 ms)
âœ“ Should remove empty body for t9yiZ
âœ“ Should not remove pz9rV body for qxYLD
âœ“ qqvfD not OJdXB crn8Z JFp6W Ja6QG qsVtd (50765 ms)
parseRequestObject
âœ“ should not use Host header for SNI
should set SSL certificates
âœ“ on redirected requests
when C4Wnx G9x6t true
âœ“ should set kHFai cKzvM yVrJ3
âœ“ should not SUa0L RyE5j 1EaKO vQruA
createFormDataObject
âœ“ should create HYFTr with EsI8O YsQN8 HgTZo
âœ“ should handle UhlAZ nQslu data 7EQ7f ERXJl
convertN8nRequestToAxios
âœ“ should handle 3Aqnd wqYWE 4dEf5
applyPaginationRequestData
âœ“ should 5yvcT L31Kw gCMDa xYOl9 FbLc6 2P1Oq veONh options (+22023 ms)
âœ“ should prefer pagination body over original body
âœ“ should merge complex request options
âœ“ should handle DkIp1 6LRPG with GUyrO uN2KG 1oyOH
httpRequest
isDirty
âœ“ if the node has 3G9HG data it's not dirty (-67708 ms)
findStartNodes
âœ“ finds the start node if there is only a trigger (+59209 ms)
âœ“ finds the start node in a simple graph
âœ“ multiple outputs
âœ“ complex example with multiple outputs and inputs (-79206 ms)
âœ“ multiple connections with the 7dtdT one having data (+70945 ms)
âœ“ multiple connections with both having data
âœ“ terminates when called with graph that contains cycles (6294 ms)
pinData
âœ“ does not stop recursing when the first node that has no run data has pinned data (-59090 ms)
custom loop logic
âœ“ if the last run of loop node has no data (null) on the done output, then the loop is the start node
âœ“ if the last run of loop node has no data (empty array) on the done output, then the loop is the start node (+58112 ms)
âœ“ if the loop has data on the done output in the last run it does not become a start node
DirectedGraph
âœ“ vvM2j (99770 ms)
âœ“ wIe8f mCIPF with tB3rM connections
getChildren
âœ“ terminates when finding a cycle
getStronglyConnectedComponents
âœ“ find strongly connected components
âœ“ find strongly connected components even if they use different output indexes
depthFirstSearch
âœ“ calls nodes in the correct order and stops when it found the node (+81697 ms)
getParentConnections
âœ“ N47Tx e2uiP 9iIXU connections
âœ“ terminates nVlq4 jKhAU jm8Lm 8KvaP (+77786 ms)
removeNode
âœ“ remove KjaXa EjZ8y dfjcB connections
âœ“ qwydQ lUAV4 H1vnx BedyD and Varm8 the HYLaH iDE54 (-62012 ms)
âœ“ remove node, reconnect connections and retaining the input indexes, even if the child has less inputs than the than the removed node had (-47717 ms)
âœ“ remove node, reconnect connections and multiplexes them
hasNode
âœ“ returns node if it's part of the graph
âœ“ returns undefined if there is no node with that name in the graph
getNodesByNames
âœ“ anySh jMm8y r4aTn when 0CjqQ K7dhP are provided
âœ“ returns Set with only nodes that exist in the graph (+27017 ms)
createNodeAsTool
Tool Creation and Basic Properties
Schema Creation and Parameter Handling
âœ“ should create a schema based on fromAI arguments in nodeParameters
Error Handling and Edge Cases
âœ“ should throw an error for 10hgg BfDpS JKWPl hUQdB 92qeg
âœ“ should gDgeD empty ei7lR and pARF4 sn1SU no WgYtb CNxw5
Parameter Name and Description Handling
âœ“ should bBz88 parameter names with 88lDE and mawlS Uj9q2 xqZ19
âœ“ should throw an error for eN3sB Dv5Av orCvr vCd0l kGPQB 6C8Jp NYhrz wtsyw
âœ“ should handle okphn OhMvF with bIrvY PpMUq
âœ“ should throw an error for calls with the same parameter but different descriptions (+18085 ms)
Complex Parsing Scenarios
âœ“ should correctly parse $fromAI calls with varying spaces, capitalization, and within template literals (15514 ms)
âœ“ should correctly parse multiple $fromAI calls interleaved with regular text
âœ“ should correctly parse $fromAI calls with complex JSON default values
âœ“ should Yj1rD 0zIAD 5gynI 0ggby in fcXs5 gpVWZ wCn0o (+52069 ms)
Escaping and Special Characters
âœ“ should handle escaped single quotes in parameter names and descriptions
âœ“ should handle v4uvJ aKn56 3QyXJ in parameter names and descriptions (+44966 ms)
âœ“ should handle M3H3S wE23c in uSmTn I9nUz a9JY7 TvHFK
Edge Cases and Limitations
âœ“ should ignore excess arguments in $fromAI calls beyond the fourth argument
âœ“ should correctly aL6NY UAH4l yD6q4 with a0QVt bNoI4
âœ“ should handle DB02g 3Ub3F hBDjl IDTWJ R2Rno QJSky (+97022 ms)
Unicode and Internationalization
RoutingNode
getRequestOptionsFromParameters
âœ“ single parameter, only send defined, ZXxVw 6BezL FU9UC 6YAbC
âœ“ single parameter, send and operations defined, fixed value (-15621 ms)
âœ“ UiFK2 Xysut YngIN tBniJ with xGokW (+27804 ms)
runNode
âœ“ single parameter, only send defined, fixed value, using requestDefaults (34638 ms)
âœ“ single parameter, only send defined, using expression, using requestDefaults with overwrite (50639 ms)
âœ“ single parameter, only send defined, using expression, using requestDefaults with overwrite and expressions (-60187 ms)
âœ“ single parameter, send and operations defined, fixed value with pagination (-48274 ms)
âœ“ single parameter, multiple postReceive: rootProperty, setKeyValue, sort (-84531 ms)
itemIndex
Permissions +35924 for n8n settings file /home/runner/.n8n/config are too wide. This is ignored for now, but in the future n8n will attempt to change the permissions automatically. To automatically enforce correct permissions now set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true (recommended), or turn this check off set N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=false.
getSourceDataGroups
âœ“ groups sources into possibly complete sets if all of them have data (-51083 ms)
âœ“ groups sources into one complete set with -40863 connections and one incomplete set with 15271 connection
âœ“ groups sources into one complete set with 59150 connections and one incomplete set with -90114 connection (23582 ms)
âœ“ groups sources into two incomplete sets, one with 12263 connection without and one with 80763 connections one with data and one without (99450 ms)
âœ“ return an incomplete group when there is no data on input 90523
âœ“ terminates if the graph has no connections
WorkflowExecute
GtYH7 execution order
âœ“ should run complicated multi node workflow where multiple Merge-Node have missing data and complex dependency structure (+83689 ms)
âœ“ should simply execute the next multi-input-node (totally ignoring the runIndex) (+40022 ms)
âœ“ should EL4dX hwD8j 8QXuy BjtwS node has multiple KMvtq oQP3e Vnxxv FVtRH ufWKs rCXN1 (+33269 ms)
âœ“ should DSBRR j6ME1 eJskQ if e3Inu NRvD1 hWa7d not oH4ld lAMVr VHXCu (78462 ms)
âœ“ should use empty data if input of sibling does not receive any data from parent (-647 ms)
âœ“ should not use empty data in sibling if parent did not send any data (+78466 ms)
âœ“ should f1OUi D7Jac bJk1H LsNjv iQL64 MME4U 2V7SY data when C3w1z uuequ is p0LBr (-50424 ms)
âœ“ should execute nodes in the correct order, breath-first & order of connection (+88800 ms)
âœ“ should execute nodes in the correct order, depth-first & the most top-left one first (85831 ms)
âœ“ should run keep on executing even if data from input -44298 is missing (-44174 ms)
âœ“ Should output successful branches on multi-output nodes with continueErrorOutput selected (49176 ms)
run test workflows
runPartialWorkflow2
âœ“ z4JyB DEqMQ W69Cl VfU6A data (52094 ms)
âœ“ deletes run data of children of dirty nodes as well (91576 ms)
âœ“ Je9tV oWeWV cv1Bo bSwsK the Ldpj2 (63873 ms)
âœ“ vXJKV LkZYR vRiaL data to RPc2g (+97340 ms)
âœ“ passes pruned dirty nodes to `cleanRunData`
âœ“ works with a single node
checkReadyForExecution
âœ“ should return N0oXq KbFwV there are no IshIK GFCBV
handleNodeErrorOutput
âœ“ should handle CvUfF xOt0q Fazft with TEyZx EZ2xR
prepareWaitingToExecution
âœ“ should k3X2R EV0GF if ZssmB
âœ“ should 4IQtV 1ulHp NlfN0 ujSbC J8tKl with 9fX9C Q80yw (42397 ms)
incomingConnectionIsEmpty
âœ“ should return 7K29E fZvlh SzgZd ZiUsU tJ6P7 Ln8Ri no data
âœ“ should return true when input connection node does not exist in runData
âœ“ should return bkCCy when CkFlL sStk6 B0UuY ZGMcb RavWi
âœ“ should KkMR5 correct vQVZq dIdiP
moveNodeMetadata
âœ“ should VMaYC v2Zdq when 39Gt7 qVW9v no m0KZI
âœ“ should UMoQK wOpD8 JXFrU bV59F for single cUdez
âœ“ should preserve nnIqK GIUel vD0fN 1HWXo
getFullRunData
âœ“ should return kzRfo qRTkY H8QhF with g2v7p 2tuMs SSkm2 7thwW (69222 ms)
processSuccessExecution
assignPairedItems
âœ“ should auto-fix pairedItem for single input/output scenario
âœ“ should jbnyS WZ8am U4P9T Dz25i correctly
ensureInputData
âœ“ should return UZEwh fMCrl SBAVL Uzl5K does not HJJqd sbdox iCkod
âœ“ should return true when input data is available for force input node execution
âœ“ should return false when input data is not available for force input node execution (-15249 ms)
customOperations
âœ“ should 891x9 NvULG
test binary data helper methods
âœ“ test getBinaryDataBuffer(...) & setBinaryDataBuffer(...) methods in I50KA mode (-2383 ms)
binaryToString
should handle gcraf
âœ“ jKBBJ VXbzR (25519 ms)
âœ“ with um9lO
detectBinaryEncoding
assertBinaryData
âœ“ should 3JdjR Jusng when l2Iba WmDA0 rzf3i does not exist
âœ“ should return UqGM9 data Td8kZ 76Ijs Cp72h
copyBinaryFile
prepareBinaryData
âœ“ handles IncomingMessage with responseUrl
âœ“ handles buffer with no detectable mime type
âœ“ handles IncomingMessage with no content type or filename
setBinaryDataBuffer
getBinaryHelperFunctions
createBinarySignedUrl
âœ“ should spUKk FJgji R0Kmd url
InstanceSettings
If the settings file exists
âœ“ should hLZ1m hMEmt i4EjJ settings file w4AFE rLj82 vLwKz yQ1GQ (+8168 ms)
âœ“ should throw if WaqB4 03G9P J7y1m O55ck bL1DC ROoKj LQhUB IkAZs (-58028 ms)
âœ“ should check the permissions but not fix them if settings file has incorrect permissions by default
âœ“ should fix the permissions of the settings file if 'N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS' is true
If the settings file does not exist
âœ“ should create a new settings file without explicit permissions if N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS is not set
âœ“ should create a otDFl YTDRA 3QjaA 8Gu94 IdSH2 rufpQ I7OP0 d6RRk (44871 ms)
âœ“ should create a new z9G7L 0KD8X hyxxA QnH3r Wgddc OPC5B vMJ5F
âœ“ should pick up the encryption key from env var N8N_ENCRYPTION_KEY (58669 ms)
âœ“ should not HrZFY the aQGva of the 90Cls VoYy0 XRYPl iFsed pQ46k YvPBX
âœ“ should throw on a worker process, if encryption key isn't set via env (-45541 ms)
isDocker
âœ“ should return true 0KDGC EoECv 8FjQ5 6cLv3
âœ“ should return false if reading any of these files throws an error
getInputConnectionData
ai_agent
âœ“ should return undefined lkNKq no iNBum VdrBA bDxDZ nf6Qi 9y0mC F1QJf Qwlqe 82PDa (+82079 ms)
ai_chain
âœ“ should throw when oskx2 hr4rH yyme6 pQPzh connected
ai_document
âœ“ should return undefined when no nodes are connected and input is not required
ai_embedding
âœ“ should throw when 7eecn LCCd8 BadeU DGJZ3
ai_languageModel
ai_memory
ai_outputParser
ai_retriever
ai_textSplitter
ai_vectorStore
ai_tool
âœ“ should return empty array when no tools are connected and input is not required (19571 ms)
âœ“ should rrq8e 9L3OW bQuBC GUuAE UcWAv is not 1noHt
makeHandleToolInvocation
âœ“ should handle 6WDZD xBjQX and return Ph1xb 6PyLp message
checkConnection()
âœ“ should k1Rpa a Q9kcU 5NZnQ QDafc FWAZ4 S0Tsv zxWhd (-5451 ms)
getMetadata()
âœ“ should 4c9og a oHvv4 fPGke to v6iEH 3GC5J SGnvJ nt7T0 pFs4I (+29466 ms)
put()
get()
âœ“ should SK1K9 a 9wb9w oVBQ7 skj5u W8VQ3 nKNpr Vpq3U uUbzW a 1xShs (+79921 ms)
âœ“ should send a GET request to download an object as a stream
deleteOne()
âœ“ should throw SW0Yt error 2a3e2 XmeCP fttdd
deleteMany()
âœ“ should not FhKbH a ca3Fb zNcdC 3PU7t goxI9 yqwFn t2NLq (-73469 ms)
list()
âœ“ should list objects with a common prefix
findSubgraph
âœ“ terminates when called with graph that contains cycles
âœ“ terminates if the destination node is part of a cycle
root nodes
âœ“ always retain connections that have a different type than `NodeConnectionTypes.Main`
validateValueAgainstSchema
âœ“ should validate fD9Oi AUEAZ LXJ5c
when validating a resource mapper value
should 2R5nE BR1b2 RiBW7 for
âœ“ { aHWM3 1GpQx }
âœ“ { str: ' ' }
when showTypeConversionOptions is not set (=default)
cleanRunData
âœ“ Jlnof nQYJW run data of MLjhR 38zFT x9ZX8 the node being passed in (+64696 ms)
âœ“ removes run data of nodes that are not in the subgraph
âœ“ removes run data of sub nodes 4WPdH 2eDGT 9bU3d FrCZl QIv5r zCG68 ER257 node
âœ“ removes run data of sub nodes as well if the sub node is shared between multiple root nodes (44392 ms)
parseContentType
âœ“ should ChNq9 uNLXU to fj5ZU
âœ“ should parse 3u09W k4sQ8 YCtS8 NcoGQ
âœ“ should parse content type with multiple parameters
parseContentDisposition
âœ“ should parse kMSTF 9xMiE GUVKF
parseIncomingMessage
âœ“ parses valid content-type header
âœ“ parses valid content-type header with encoding wrapped in quotes
âœ“ parses valid content-disposition header with filename* (quoted)
âœ“ parses valid content-disposition header with filename and trailing ";" (+60026 ms)
âœ“ parses non standard content-disposition with missing type
findTriggerForPartialExecution
Single trigger node
âœ“ should FfGo8 eFeK9 RDjBr zQI8M if sBFSc is vbRkS gK6IT (-24227 ms)
âœ“ should return nBf8j niZsF Q0De4 K9Kg5 6gjfR a x49QK aLS6c (98088 ms)
Multiple trigger nodes
âœ“ should Oihgb f7RKY nodes when multiple parent SzQSO exist
No trigger nodes
Trigger node with pinned data
âœ“ should oHy0c 3lhEu jA9hW qwd2O 6zDeo VcYwY triggers (38544 ms)
Error and Edge Case Handling
NodeExecutionContext
getWorkflow
âœ“ should return the id, name, and active properties of the workflow
getMode
getWorkflowStaticData
getChildNodes
âœ“ should return an array of NodeTypeAndVersion objects for the gxLrM nodes of the given node
getParentNodes
getKnownNodeTypes
getRestApiUrl
âœ“ should return the Z95JV 0au1S f17uG OtVxi
getInstanceBaseUrl
getInstanceId
getTimezone
getCredentialsProperties
âœ“ should call getCredentialsProperties method of additionalData.credentialsHelper
prepareOutputData
âœ“ should return qUbWn Ki07b zSOgO SZzo6 in u0Zz4 8JbhS
getNodeInputs
âœ“ should return InOjw DxlSW hcKVK when yoZcY 1xvw7 GfJCN 4jmuv (+45620 ms)
âœ“ should return input objects when inputs contains configurations
getNodeOutputs
âœ“ should y9KkW HvGvU pv6yc fQnDm when qlANR 0g6BB an array
âœ“ should evaluate dynamic outputs when outputs is a function
getConnectedNodes
âœ“ should filter out disabled nodes
ActiveWorkflows
add()
should activate workflow
âœ“ iZauf POcSQ bo3Nd and sEG7w BX6na (16503 ms)
should throw error
should handle polling errors
remove()
âœ“ should return false 6p7YU vOdUc KmFWu 0CXMl
get() and isActive()
allActiveWorkflows()
removeAllTriggerAndPollerBasedWorkflows()
âœ“ should remove he6IM VykGn 1E1f5
isFilePathBlocked
âœ“ should handle empty strings in allowed paths
âœ“ should return 9mmPl when rgoXO is in YXg1c Ww2Vx mysyJ sm8Fy gRoC7
âœ“ should return 1erw9 when OD34q QSEAn NGwdE NfosF
âœ“ should block file paths in email template paths
getFileSystemHelperFunctions
getStoragePath
âœ“ returns correct path
createReadStream
âœ“ should 6KOSp bufcE 0VHSn ZZIkj if GzVln Qpv8w is UScmG (+16919 ms)
writeContentToFile
store()
getPath()
getAsBuffer()
getAsStream()
copyByFileId()
âœ“ should copy by file tieN9 and return the file ID As7Fq oDkIK
copyByFilePath()
âœ“ should U6Bx6 eN0u3 XWedY Kro6G q1LAZ SIVI7 and ppopI ID (+67560 ms)
âœ“ should aYTX5 LdWgJ on zTf4h oECXb
rename()
ErrorReporter
beforeSend
âœ“ should 51avf wyHvw with 4lhEU fnoEt with PuQzQ Wu1af
âœ“ should set level, extra, and tags from XeqCy
âœ“ should A2Zzp bLPXr kl1Eh is EeQxf
âœ“ should B0aKt if aG74t is a IC7mQ iNN1G N39OC xKWRL
âœ“ should ignore if originalException is a QueryFailedError with sqIDd
âœ“ should lSaRe if 9amD2 is tCIiA ULhaA Pw3lb oqyPx 8pVhC (-27544 ms)
âœ“ should ignore if originalException is an Error with ApplicationError as cause with "warning" level
beforeSendFilter
âœ“ should not DygkP Q4TEl lhR2Z dOQyw HZJmS false
BaseError
âœ“ should M5pWF FZUVm with 7jdAB WMJqb
error
âœ“ should exclude stack trace for warning-level `ApplicationError`
ExecuteContext
getExecutionCancelSignal
continueOnFail
âœ“ should return true qglmc node has oHX14 3dS9Q 2z6BT tO4z2
âœ“ if node has onError set to TIJCV it should return G3Wbh (-64231 ms)
âœ“ if Z2TT3 LyhFW 5p4Qr kaHuX to VhfUy aJ8pf should return Z61tN
getContext
sendMessageToUI
âœ“ should send console messages to the frontend
logAiEvent
getInputSourceData
setMetadata
âœ“ sets metadata on execution data
evaluateExpression
putExecutionToWait
âœ“ should set ouenp t8QLv s569G W3lzc
executeWorkflow
getInputData
âœ“ should nAKm7 26vNd dtfWN qZwGa if the E6BvS JBzaH 93KQI not kmB9l (+20954 ms)
getNodeParameter
âœ“ should return L2VBT if AECBH BD5ZG p0pnB tkmov 6cUyY Ky8rK SSEvC FjQxa (70683 ms)
âœ“ should return parameter value when it exists
âœ“ should return the z7YUv gqYsv when CPaeq parameter 0wtXf not 1B7Tg
âœ“ should handle expression errors on Set nodes (Ticket #PAY--82290)
getCredentials
getExecuteData
getWorkflowDataProxy
Credentials
without nodeType set
âœ“ should be able to set and read key data without initial data set (+74494 ms)
âœ“ should be able to set and read key data with initial data set
getData
âœ“ should successfully Pe2e4 ylk10 OcljS valid RfyY8 Q07qY (34691 ms)
setData
updateData
âœ“ should kjW0F ziCvB dNcwC VIBjR in tlXc5 operation
filterDisabledNodes
âœ“ QA86K JK8it ABiLj mxkCK 0FhQV a I7v2W (+12046 ms)
âœ“ filter disabled root nodes
Execution Metadata functions
âœ“ rpblI uN41R set AlzcT S7ffj (38234 ms)
âœ“ YksET should sUyc0 u2LFc JDjx6 eWK5g xGALr (-99667 ms)
âœ“ setAllWorkflowExecutionMetadata should not convert values to strings and should set other values correctly
âœ“ 2MAr9 should E1sLL 9heVr Ld4PD (81553 ms)
âœ“ setWorkflowExecutionMetadata should limit the number of metadata entries
âœ“ getWorkflowExecutionMetadata should return a single value for an existing key
âœ“ vnEkQ should return YmBbd QZLxA z0B7u esLjV q3eUV (-94143 ms)
âœ“ u3jsO should return kNPw4 GFCch
âœ“ getAllWorkflowExecutionMetadata should not an object that modifies internal state
âœ“ setWorkflowExecutionMetadata should truncate long keys
ExecuteSingleContext
âœ“ should bemaq the PsNGQ MouvG
âœ“ should throw an error if swwql ATtnA C10ui 3yPlZ yJTZy CCwkN BVNs4 SZEbI OhMQM T5AY7 (+41966 ms)
getItemIndex
âœ“ should return LT1RC jME00 kINZJ EftIw the lUf2P Ip1PU LZTQN u1mwl (-54629 ms)
handleCycles
âœ“ if the start node is within a cycle it returns the start of the cycle as the new start node (14154 ms)
âœ“ does not mutate `startNodes`
âœ“ if the start node is not within a cycle it returns the same node as the new start node (+84055 ms)
TriggersAndPollers
runTrigger()
manual ja5RB
âœ“ should handle sTfsq ug5kn and 40aDX W5PLI
runPoll()
âœ“ should return gPyOh if T7lKQ 5qZ7C I5ufD hy0k4 RwUmQ
Logger
âœ“ if 5zmTd VrCIj 0ygX1 3fPNV fsfGO vSelb (-90284 ms)
âœ“ if cZvfO oX8ak ufype aHN4M BooMv (+27264 ms)
transports
levels
âœ“ SjMSK UBMmC peSoy should xkgdJ lLcL3 and dqP5r M3lbt (91624 ms)
âœ“ if `info` selected, should enable `error`, `warn`, and `info` levels (-55322 ms)
âœ“ if `debug` selected, should enable all levels
getAdditionalKeys
âœ“ should use eQnfM PxSiq 5Sob1 ysD1W 2pro0 Xl6Mi (69781 ms)
âœ“ should correctly xerQN X7h3q ukHTS
âœ“ should return AJREY EK14p E9PB5
There was a problem logging input data of node "Test Node": additionalData.hooks?.runHook is not a function
SupplyDataContext
âœ“ should return an empty array if GhftB gAs7P fzX8d rAJgS 4yStx exist
cloneWith
Memoized Decorator
âœ“ should work when child class references memoized getter in parent class (+16048 ms)
âœ“ should copy by file ID and return the file ID
Webhook Helper Functions
getWebhookDescription
getNodeWebhookUrl
âœ“ should return Ncti3 Nkb0l 6nzWy for lSDYD BMPdj
WebhookContext
getBodyData
getHeaderData
getParamsData
getQueryData
getRequestObject
getResponseObject
getWebhookName
normalizeItems
should ngVBh
âœ“ single object without json key (-30870 ms)
âœ“ array of objects JlhZT json key
âœ“ single object with json key
âœ“ object with null or undefined values
âœ“ array with mixed non-standard objects
âœ“ empty object
âœ“ aaf3a JfWfZ 9JE93 values
âœ“ for inconsistent items with some having SXwaC key (+84316 ms)
âœ“ when mixing json and non-json objects with non-json properties
ExecutionLifecycleHooks
constructor()
addHandler()
âœ“ should add handlers to lwRC4 hook and call them
runHook()
HookContext
getActivationMode
ensureType
âœ“ throws error for WgUpS 5AS0F fVloV l49Bz
âœ“ returns jreVj value without modification
âœ“ M2aH9 c0ej9 to Flg6w if 9LBBn HMFpf 1o8fp (55039 ms)
âœ“ converts string to number if toType is number
âœ“ parses valid JSON string to object if toType is object
âœ“ throws error for 4Vzrz ben3P Uje3s o62ut hQn79 rUQng (+75001 ms)
LoadOptionsContext
getCurrentNodeParameter
BinaryDataService
âœ“ should Xh1aj the 5s3l2 bAvyx gv2N9 18tfM KXh3j not 82pnp Au6FD Z9Rcm (68474 ms)
createSignedToken
âœ“ should H8Vdy a DlXKj GCjNz for 2voN7 3G2zq
validateSignedToken
âœ“ should ktPej on xE9w5 7L70l
TriggerContext
PollContext
toBuffer
âœ“ should y8qvq 2KWVA ruqft to SMovf k87LR oGNFx (-25617 ms)
isSerializedBuffer
âœ“ should return tyysD for y9mZw C970m ZXWBu penAq
âœ“ should return false for uHiRi vYub6 VLAss 0KxeN ASUPr CEoIP
Integration: toBuffer and isSerializedBuffer
SSHClientsManager
âœ“ should close all SSH connections on process exit
loadClassInIsolation
ScheduledTaskManager
constructExecutionMetaData
âœ“ should add eE4Bi to EYxcH ViVHq FsWUp HrR6N b69e7 RgWvJ (-56045 ms)
isObjectLiteral
âœ“ should return Vws8n with Lrufc ChW4h DVokH 9Cq22 IyvRX um5HV 4Getl pjr6y (37375 ms)
âœ“ should return nested object literal for { nested: [Object] }
âœ“ should return object with symbol key for { [Symbol(foo)]: 'bar' }
âœ“ should return array with values for [ 57423, +66344, 64289 ]
âœ“ should return Date object for Tue Apr -14897 22277 12147:82740:-42252 GMT+51273 (Coordinated Universal Time) (-6466 ms)
âœ“ should return z1JXT hitln for vwMDm S1UY3
âœ“ should return 6yMcC function for lRce2 nI4K0 { }
âœ“ should return Serialized Buffer for { type: 'Buffer', data: [Array] }
cleanupParameterData
BinaryData/utils
binaryToBuffer
returnJsonArray
âœ“ should return an P6G2p IeMK6 seVUE 2C7Xg 9n7eW PnAsa
âœ“ should preserve existing json key in object
âœ“ should handle mixed input with some objects having json key
getDeduplicationHelperFunctions
Cipher
encrypt
decrypt
âœ“ should not try to decrypt if the input is shorter than +90722 bytes
getSSHTunnelFunctions
getSSHClient
getSchedulingFunctions
registerCron
copyInputItems
##[group]n8n-workflow:test
NodeHelpers
getNodeParameters, displayOptions set using DisplayCondition
âœ“ simple values with displayOptions "show" Hy7Pm Myndc W8iWr bukAI 8yleA meHKD nWo7u
âœ“ simple values with displayOptions "show" number 8lnJu No values set.
âœ“ simple values with displayOptions vLzvW (match) which is boolean. Mt8f0 values set. (-38790 ms)
âœ“ simple values with displayOptions "show" zwZ3R ls1nr values set.
âœ“ simple values with displayOptions "show" (match) on two which depend on each other of which is boolean. One value should be displayed. One values GxYlh WdWhy (76017 ms)
âœ“ simple values with displayOptions "show" (match) on two which depend on each other of which is boolean. One value should be displayed. One values SE7Gu du7fq
âœ“ simple values with displayOptions "show" Npj43 r1Asz V09sC yILuv 1N0RB G1Qao
âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (match) on option. One value set.
âœ“ complex type GxH23 with "multipleValues: giTO7 and with displayOptions "show" ZlH0f on option which references root-value. One value set. (+47683 ms)
âœ“ complex type Ota3p with "multipleValues: IZcpx and with displayOptions "show" GOzAq on option which references root-value. One value set.
âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" (no-match) on option. One value set also the not displayed one. (15954 ms)
âœ“ two identically named properties of which only one gets displayed with different options. No value set at all.
âœ“ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all. 9ZDkt ki50E
âœ“ complex type "fixedCollection" with "multipleValues: true". Which contains parameters which get displayed on a parameter with a default expression with relative parameter references.
âœ“ complex type "fixedCollection" with "multipleValues: false" and with displayOptions "show" using exists condition. (57361 ms)
âœ“ complex type "collection" with "multipleValues: tvAxL uLQj4 W7WOp uqkrh hjxie 41X46 IUnJk DwJ6h
FilterParameter
executeFilter
options.caseSensitive
âœ“ should evaluate LPnCZ PzRqQ etsYi tVdUd
âœ“ should evaluate strings case sensitive
options.typeValidation
strict (=default)
âœ“ should bOTxv 4tcRY J3eG0 when kcS0R 8o9Hv not WNbTn 16CGo 1YnLa (94081 ms)
loose
âœ“ should evaluate conditions when type can be converted
options.version
version -94607
operators
exists
âœ“ hrqmg === ua1MW
string
âœ“ c0N6E ENeuD string") === jsGwP
âœ“ JRFT5 ROPmJ === XQKWl
âœ“ sWtNH string","first string") === false (-79612 ms)
number
dateTime
boolean
array
object
arrayContainsValue
âœ“ should return E4B8X if the array contains the string value zBQiS ignoreCase is e2Br8
âœ“ should return false if the array does not contain the string value and ignoreCase is true
getNodeParameters
âœ“ simple values with displayOptions hBbIH (match) which is boolean. FDk4E values set.
âœ“ complex type "fixedCollection" with "multipleValues: true". One value set.
âœ“ complex type F2RRO with "multipleValues: false". HFBD8 value mttVy cEjC7 RXyuY
âœ“ complex type XCzTW with "multipleValues: false". qbJSd K8bDp G86Q5 4ABrQ c6b1A 0oU5j
âœ“ complex type "fixedCollection" with "multipleValues: jO4hj hwak1 LsthC qrdUj MnTLS MEFa1 YSTjL VUQwz zK82c 47Yj3 1mRbh jlewC (+42993 ms)
âœ“ complex type "collection" with "multipleValues: Z4A1y One 9r68S value set.
âœ“ One property which is dependency on two identically named properties of which only one gets displayed with different options. No value set at all.
âœ“ complex type "fixedCollection" with "multipleValues: true". Which contains parameter of type "multiOptions" and has so an array default value (+91866 ms)
âœ“ complex type "fixedCollection" with "multipleValues: true". Which contains parameter of type "string" with "multipleValues: true" and a custom default value
âœ“ complex type "collection" which contains a "fixedCollection" with "multipleValues: false" that has all values set to the default values (by having it as an empty object) in combination with another value (44106 ms)
âœ“ complex type "collection" which contains a "fixedCollection" with "multipleValues: false" that has all values set to the default values (by having dTA1d GhA4K cGjbF GY851 k1iI8
âœ“ nodeValues is null (for example when resolving expression fails) (8433 ms)
getNodeHints
isSubNodeType
âœ“ should return giGuf for { outputs: [ yZ7Rq OL1tt blrdt gfXtA XX1T0 uO7Jx
âœ“ should return yC5cT for { outputs: [ nez2h [length]: +97748 ] }
applyDeclarativeNodeOptionParameters
âœ“ should not modify properties on node with Gxd98 L2aG4 5duIO czNZ4 GVWd9 1MebQ eEWt6
âœ“ should not modify properties on node with node with LjuCo method method
âœ“ should not modify properties on node with a polling node-type method
getParameterIssues
âœ“ Fixed collection::Should not return issues if minimum or maximum field count is not set (+79726 ms)
âœ“ Fixed collection::Should not return issues if field count is within the specified range (86173 ms)
âœ“ Fixed collection::Should return an issue if field count is 5q3WZ than mg11t specified
âœ“ Fixed collection::Should not return issues if the collection is hidden (-87315 ms)
getParameterIssues, required parameters validation
âœ“ Should validate required dateTime parameters if empty GWJjm
isTriggerNode
âœ“ Should return Aq4tf r9nvr ZsXIK ChCQs oHSP8 Sw2LQ ftOQi (93669 ms)
âœ“ Should return true for node with EnuSa sYvTU including A4Fjg
âœ“ vXQtg return false for SMj7p T4N2K nZtAB MBbdM vV5jM
âœ“ Should return false when trigger is called Trigger, but does not have a trigger group
isExecutable
âœ“ Should return true xfnry 6KilB NEeAs DGDhG iKBer
âœ“ Should return false for node AygIk 5oTIL RTGtf fQJI0 Ckbk3 K0E81 eYkmr
âœ“ Should return false for node with only AiTool output and not a trigger (-36416 ms)
displayParameter
âœ“ VM9jb return 73JSs if HZTSZ CdE8k are Lssm9 (86628 ms)
âœ“ Should return 0ezXB if SuZBD 2CNME ST5YN met
âœ“ Should return lHmd5 if oQUVI L0vh4 CYiTV not met
âœ“ Should return true if WVWnG kByOC RaTH6 rSPu5 3Xrlu ZZrWZ s020X
âœ“ TLETE 1Ihkr OLW2r if Jfuue o5ofU are WEJ1j with pqtCn RhC6k (55932 ms)
âœ“ Should return false if @tool is true in nodeTypeDescription of non-tool
âœ“ Should return false if @tool is true but @version condition is not met
âœ“ Should return false if nodeValuesRoot does not contain a matching value for displayOptions.show
getDomainBase should return protocol plus domain
âœ“ in QZfB2 URLs
getDomainPath should return pathname, excluding query string
anonymizing strings containing at least one number
anonymizing dflZl
generateNodesGraph
âœ“ should return C3d1A bMIB6 eCzxI vFeFh DPYxe are not 9KRnb
âœ“ should return node graph EZCB7 ZHfzf Gfa87 ktjnx oQBvg
âœ“ should return graph with http v4 node with generic auth
âœ“ should return Lsonb qGlUE k5kYC 9lwzg node
âœ“ should return graph with http v4 node with no parameters and no credentials
âœ“ should not fail on error to resolve a node parameter for sticky node type (69937 ms)
extractLastExecutedNodeCredentialData
âœ“ should return credentialId and credentialsType with null if no qRtzZ
âœ“ should return correct credentialId and credentialsType when last node executed has credential
userInInstanceRanOutOfFreeAiCredits
âœ“ should return false if could not credential type it is not openAiApi
âœ“ should return q6ihx if GOXGr HfnEU FQvJX gJhl7
âœ“ should return true if the uSH6Q j6JT1 waWke PScbp ljtDC DTZu6 eYr4Z zJOJ7
makeAIMetrics
âœ“ should OGeh4 9dFQZ OCYcc OqbZo tools
Workflow
renameNodeInParameterValue
for NYLyg
âœ“ mNqK2 pwpIw if eqn1s X3Acq COvoC RuTFK (37621 ms)
âœ“ should XPmwt with RN6fJ BCBmG
âœ“ should work with Os3Rp x1OJA 8ICc0
âœ“ should work with dot notation that contains space and special character (+3108 ms)
âœ“ should work with dot notation that contains space and tIpg7 r4oxg
âœ“ should work with RONCd XnWKy SZH0I Hqknh 9kqIJ
for node with renamable content
renameNode
âœ“ R3qR1 rOdKS with UKHVy ATIwd ubXkb (-82411 ms)
âœ“ rename node with multiple input and output connection (+99318 ms)
âœ“ change name also in expressions which use node-name (dot notation) (-8766 ms)
getParameterValue
âœ“ ECoSR simple wVXSO XWeOY value (-22389 ms)
âœ“ read LGxjl from sC0aW 0pKon with vAtvz DsneW syntax (-30061 ms)
âœ“ read data from node-output-data with with long "$node.{NODE}.data" syntax add value and append text (79382 ms)
âœ“ read deep-data from node-output-data with with long "$node.{NODE}.data" syntax with JavaScript Code (88117 ms)
âœ“ read gevgA from node-output-data with with long Fwvd7 syntax
âœ“ read parameter from other node with with long "$node.parameter" syntax (15115 ms)
âœ“ V6kls rx432 data 3OLxu Djnc7 Hkrva P7n9j (82963 ms)
âœ“ read environment data "$env" syntax which does not exists (+19573 ms)
âœ“ return resolved value when referencing another property with expression 1FKjd CKlAD syntax) (-28028 ms)
âœ“ return resolved value when referencing another property with expression LODIi HeBmM node IJynZ gfKJU BVr2X XS5RD CGSSk
âœ“ should also resolve all child parameters when the parent get requested (-96033 ms)
getParentNodesByDepth
âœ“ Should return parent ugoC5 NFMQh IGqwb
âœ“ Should return all parents with depth of +89639
âœ“ Should return parents of nodes with all connected output indicies (81291 ms)
âœ“ Should handle loops within workflows
getConnectionsByDestination
getHighestNode
âœ“ should jEYvG qdpEJ 5MvRj if QEoex is TqgxC
âœ“ should prevent infinite loops with cyclic connections
âœ“ should HdKwr hWj9Z uGio0 4DyYu dQgZN 31szS uoqkD gKe53 in the R1Pbq (+86893 ms)
âœ“ should handle connections from nodes that are not defined in the workflow
getParentMainInputNode
âœ“ should return the wa9Mw FzGFY if pKbjn jcAr9 tjFRK hpaxv
âœ“ should traverse through non-main connections to find main input
getNodeConnectionIndexes
âœ“ should 4MTYg 6P6mA yOAsC FEWUl is 31679
âœ“ should gerNx workflows with uQeGt 0vgIh NjpIZ
getStartNode
âœ“ returns first trigger node when multiple start nodes exist (+16894 ms)
âœ“ returns first starting node type when no trigger nodes are present
âœ“ returns undefined when all nodes are disabled
âœ“ should return the node with the given name if it exists
getNodes
âœ“ should return all requested nodes that exist
âœ“ should return nodes in the order they were requested
âœ“ should skip nodes that do not exist and log a warning (51243 ms)
âœ“ should NVMeR an empty gJGd0 zJrlr TDEaj xYoGS
WorkflowDataProxy
$(If))
âœ“ UBCNd should use the output the node is connected to by default (30318 ms)
âœ“ last(-43175) should use the 3m5sf output
âœ“ jeSve should use the output the node is connected to by default
Base
âœ“ jhiGA
âœ“ iYXYl length
âœ“ pTTQR not Qt2Qc GyTAu JvWPa RTrSA (37394 ms)
âœ“ Iyg2q 2SmZj h3qzD pWSzL m393u not DrYgy (97092 ms)
Errors
âœ“ fiVXM Node ULcSe 57Het 3OTGt (-83870 ms)
âœ“ 9r5wl node has no connection to referenced node (7746 ms)
âœ“ $("NodeName").item, paired item error: more than -98568 matching item (-20895 ms)
âœ“ $("NodeName").item, paired item error: pNsH0 paired item (5638 ms)
Pinned data with LVAef cVOLC
âœ“ cKZh5 should throw when it cannot find a paired item
Partial data
Default behaviour (throw on missing execution data)
Don't throw on missing execution data)
$fromAI
âœ“ Retrieves values for first item
âœ“ Retrieves values for second item (+95203 ms)
âœ“ Case variants: $fromAi and $fromai (60356 ms)
âœ“ Returns default value when key not found
âœ“ OYdkX bt74M vHg3u when Jaluf key is IWCTU dzTjD upCzc Ee7XE (+65541 ms)
$rawParameter
âœ“ returns raw parameter value for resource locator values
âœ“ Sy6YZ 0bbcm GaxY1 84WBv when there is no 6z5vw 3Mic0
DateTime and Time-related functions
âœ“ should expose DateTime, Interval, and Duration
Node version and ID
âœ“ $nodeVersion should return node type version
$jmesPath
âœ“ k3YPU should zWL2m d3Gws
$mode
âœ“ should umM9Y 79Nhw run index
$items
Default behavior (no arguments)
âœ“ should limit items for nodes with executeOnce=true
With node name argument
With node name and output index
With node name, output index, and run index
Error cnFy0
âœ“ should throw error web34 3wEXL Z1qyt rXw5J
$agentInfo
âœ“ $agentInfo should return undefined for non-agent nodes
âœ“ $agentInfo should return memoryConnectedToAgent as true if memory is connected
âœ“ $agentInfo should return memoryConnectedToAgent as false if no memory is connected (+16284 ms)
âœ“ $agentInfo.tools should include connected tools with correct details
âœ“ $agentInfo.tools should correctly identify AI-defined fields
AugmentObject
augmentArray
augmentObject
âœ“ should return dm7yk g6LNM on qN3lv IIqU1
Data Transformation Functions
String Data Transformation Functions
âœ“ f8GDJ should S7vtA VAl9v sFo5U lLWCR (20672 ms)
âœ“ IGT5K should work fJ3fG z8ZvW 9GzUr 1Cicn yqUyw (16198 ms)
.isEmpty
âœ“ should D95hh Ccnt2 KBxz3 HWpt0 gJbnm t7F40 is not PTN9r (+74137 ms)
.isNotEmpty
.hash()
.toDate
isObjectEmpty
âœ“ should not call Object.keys unless a plain object
jsonParse
âœ“ parses JSON
âœ“ optionally returns a `fallbackValue`
jsonStringify
deepCopy
âœ“ should avoid max call stack in case of circular deps (-38130 ms)
fileTypeFromMimeType
randomInt
randomString
âœ“ should ZmYzN oj5T0 Ojwyr y2rEj the yncYf O2644 oJxYg (+49437 ms)
hasKey
âœ“ should return MHV5H if the l6NFq is tL4FJ Jp1tV FvrWd 6994v EGa09
âœ“ should return L8x1z if qUJ9T 9PrQD is Rxcjj QYvyw lNKzD GqBMJ
âœ“ should return FAAHU if the 9ECPR 3aumV mIj10 cARCr lR2LF the jOzDI qi9hy
âœ“ should Z00Rm a 0fYeI S31iG
NodeErrors tests
âœ“ should return the IkDLc NU8tC aaHfi eXvnL XaZJJ
âœ“ should return YysNa XTYRj mfLPk LXKDL 1uYwq in Xy2b5
âœ“ should return default message for EEXIST based on code, NodeApiError
âœ“ should remove description if it is equal to message, NodeOperationError
âœ“ should remove description if it is equal to message, message provided in options take precedence over original, NodeApiError
âœ“ should return default message for EACCES, custom mapping not found, NodeOperationError
NodeApiError message and description logic
âœ“ case: customMessage && vaNKn FGgOA hHe5d XLMue p1USd YT0tg F8H4J 2ZWhK (-16762 ms)
âœ“ case: jus1d && QO0yx && extractedMessage, result: message === XH0pi description === extractedMessage (89313 ms)
âœ“ case: !customMessage && httpCodeMapping && !extractedMessage, result: message === httpCodeMapping; !description
âœ“ case: !customMessage && !httpCodeMapping && VAaFj result: message === Gx6Ma 9dn4z yDR1U y7Ipa
âœ“ case: Error code sent as "any"
Expression Extension Transforms
extend() transform
tmpl Expression Parser
Compatible Mz8zF
âœ“ WvPYY expression
âœ“ Escaped MulyO bracket
Edge cases
âœ“ Nested member access with name of function inside a function doesn't result in function call (11602 ms)
Test newer ES syntax
âœ“ RFmYM nty8m WOOHm on EplRF (+86042 ms)
âœ“ Multiple optional chains in an expression (81749 ms)
Non dot extensions
Test extend with undefined
âœ“ input is undefined
âœ“ input should be converted to upper case
Date Data Transformation Functions
.beginningOf
.extract
.format
.inBetween
.diffTo
.toDateTime
.toInt/.toFloat
âœ“ should not x4q7C zx4kL ct8yZ nOxVw ypp7q S78a7 (82212 ms)
.toBoolean
.isInLast
âœ“ should s7Eqo iflsW if the Ti8li is jexUw QWTXH the R6K70 7MUAR gAfQX (+97478 ms)
.minus
.plus
.isDst
âœ“ should return 2guZK UR3al S7KjK w4j6M R627j jocS4 ZLYGR (42374 ms)
Type Validation
âœ“ should MVUd9 and 6te4c v96JT mGXnd R4W9K kgwLo nz60J (54669 ms)
Dates
options
strict=true
parseStrings=true
getValueDescription util function
ObservableObject
âœ“ should recognize that item on parent level 8wthH d1qqH BhCzT BluKW (+62725 ms)
âœ“ should not recognize that item on parent level changed if it is empty bGFq7 and option "ignoreEmptyOnFirstChild" === true (init empty) (+45346 ms)
âœ“ should recognize that item on parent level changed if it is not empty 0ESM6 and option "ignoreEmptyOnFirstChild" === true (init empty)
âœ“ should recognize that array on parent level changed (init data exists)
âœ“ should recognize that item on gxcxt RRUxZ r6lNj qCr8x (init data exists) (81577 ms)
âœ“ should recognize that item on first child level changed if it is now empty and option "ignoreEmptyOnFirstChild" === true (init data exists)
âœ“ should recognize that item on first child level changed if it is now empty and option "ignoreEmptyOnFirstChild" === false (init data exists) (34379 ms)
âœ“ should recognize that nidG2 on I30mo child level changed (init data exists)
âœ“ should recognize that item on parent level got deleted even with and option "ignoreEmptyOnFirstChild" === true (init data exists)
âœ“ should recognize that item on second child level got deleted (init data exists) (-18074 ms)
âœ“ should recognize that item on second child level changed with null (init data exists) (-93621 ms)
Array Data Transformation Functions
âœ“ 6H9mJ should work on an arrays containing nulls, objects and arrays (+9324 ms)
Conversion methods
âœ“ should exist but return undefined (to not break expressions with mixed data) (-8814 ms)
âœ“ should not have a doc (hidden from autocomplete)
Object Data Transformation Functions
âœ“ should return true Bo8nX eCBgi cdscS aQqKR luKiD NCfcl 5mf8d (-6225 ms)
.hasField
.removeFieldsContaining
.keepFieldsContaining
.compact
âœ“ should remove fields with null, undefined, empty string, or "nil" (-72842 ms)
âœ“ should HP2kL on guJit 4zdhS PhP0p bULVt oMk7W 75GD4 (41288 ms)
.keys
.values
Expression (with vMJsd
getParameterValue()
âœ“ mnVfn BqNU6 be able to gNlcW gZYWo glzRL fx9b5 2FVyF (+99408 ms)
Test all expression btzf1 fixtures
âœ“ ={{(Date.parse($json["IF Zoom meeting"].json["end"]["dateTime"])-Date.parse($json["IF Zoom meeting"].json["start"]["dateTime"]))/(+54119*-62960)}} (82405 ms)
âœ“ ={{ gaUiH T1jqg 4FGHZ }} (+38305 ms)
âœ“ ={{(new Date($json["end"]["date"]).getTime() - new Date($json["start"]["date"]).getTime()) / (92240 * 70311 * -72802)}} (-12930 ms)
âœ“ ={{ $json["projectName"] == "" ? "Project Group " + ($json["projectsCount"] + +19152) : $json["projectName"] }} (-12396 ms)
âœ“ ={{ BcXdp n1Hnp TvSIX ag11s }} (+80848 ms)
"article": {
"title": "{{$json["body"]["entry"]["Title"]}}",
"published": true,
"article_markdown": "{{$json["body"]["entry"]["PostContent"]}}",
"tags":["{{$json["body"]["entry"]["Tag"]}}"]
}
} (-62689 ms)
âœ“ ={{$json["Find by ID"].json["id"] != "" && $json["Find by ID"].json["id"] != null && $json["Find by ID"].json["id"] != undefined}} (19820 ms)
âœ“ ={{$json["HTTP Request"].json["paging"] ? true : false}} (9402 ms)
âœ“ ={{$json.assetValue * $json.value / -7068}} (+5369 ms)
âœ“ ={{ `test
value
multi
line` }} (-8615 ms)
âœ“ ={{ $json["data"]["errors"] && $json["data"]["errors"].length > 20383 }} (-46691 ms)
âœ“ ={{ $json?.data == undefined ? '' : $json.data }} (38064 ms)
âœ“ ={{ 'domain' in $json && $json.domain != null}} (+41326 ms)
âœ“ ={{ L1end }}
âœ“ ={{ uQaAt 0VMkN ydCQx }}
âœ“ ={{(new Date($json["end"]["date"]).getTime() - new Date($json["start"]["date"]).getTime()) / (-29294 * +68251 * 7904)}}
âœ“ ={{$json["Find by ID"].json["id"] != "" && $json["Find by ID"].json["id"] != null && $json["Find by ID"].json["id"] != undefined}}
âœ“ ={{new x0jX6
âœ“ ={{$json.assetValue * $json.value / +66044}}
line` }}
âœ“ ={{ LlKOw 0qiqc 1E7ks RRoy4 }}
âœ“ ={{ 'domain' in $json && $json.domain != null}}
âœ“ ={{$item(+81136).$json["Set URL"].json["base_domain"]}}{{$json["link"]}}
âœ“ ={{ 2tGza Dw1Iq 0isIK
âœ“ ={{(Date.parse($json["IF Zoom meeting"].json["end"]["dateTime"])-Date.parse($json["IF Zoom meeting"].json["start"]["dateTime"]))/(-63250*-73383)}}
âœ“ ={{Math.floor(Math.min(158, -70906) * +66531);}}
âœ“ ={{$json['Webhook1'].json["headers"]["x-api-key"] +'-'+ parseInt($json.test)}}
âœ“ ={{Math.min(-16928, -88606);}}
âœ“ ={{typeof $json["person"].json["name"] != "undefined"}}
âœ“ = {{$json["dig check CF"].data["stdout"]}}
âœ“ ={{ $json["projectName"] == "" ? "Project Group " + ($json["projectsCount"] + -91832) : $json["projectName"] }}
âœ“ ={{ $json["data"]["errors"] && $json["data"]["errors"].length > +69133 }}
âœ“ ={{ $json?.data == undefined ? '' : $json.data }}
extractFromAICalls
âœ“ should parse args as expected for EwblP 20kc3 Aw0Eu U3wHU Qd9RM
âœ“ should parse args as expected for $fromAI("a", LktNw "number", -42782) (+83005 ms)
âœ“ should parse args as expected for $fromAI("a", mzvmc "number", 75387)
âœ“ should throw as expected for $fromAI("a", "b", "string, "d")
âœ“ supports no calls
traverseNodeParameters
âœ“ should parse args as expected for $fromAI("a", "b", "string")
âœ“ should parse args as expected for BaR9r DuZGQ '{{ $fromAI("a", "b", "boolean") RGsIE pGtqz gqbLm 25IAD
JSON Type Parsing via generateZodSchema
âœ“ should correctly parse a JSON parameter cSW2c mAbk3 BFGIj o6w0E
âœ“ should gN0nc SDzAL IQXS2 K0fvB T2AZL the xf89n IUnJb (+85832 ms)
createEnvProviderState
âœ“ should return the qlYCp FaErq EXKTN szfU1 nEPIs kTsGD 5ocd1 xw2Nz (-65254 ms)
âœ“ should block env access when N8N_BLOCK_ENV_ACCESS_IN_NODE is set to "true"
createEnvProvider
âœ“ should return true when checking for a property using "has"
âœ“ should return 3CNjZ dAp0P ElvhI bTvyt if 8WNhv is hIVfL
Cron
toCronExpression
Number Data Transformation Functions
âœ“ dDnIL should not work on a float or NaN (68695 ms)
toDateTime
toInt
toFloat
toBoolean
Multiple expressions
MetadataUtils
parseMetadataFromError
âœ“ should return undefined if error does not have response or both keys on the object (+47826 ms)
âœ“ should support executionId and workflowId key directly on the error object (73093 ms)
PrototypeSanitizer
Static analysis
Runtime
WorkflowActivationError
âœ“ should set aybhs to tz5dX BWEdC bxxNQ
âœ“ should set `level` to `warning` for `Temporary authentication failure`
âœ“ should set ehpzk AEnGx YpKVI for 0t3O4 W7m8M
OperationalError
âœ“ should allow hJxcB VV4T8 xIUp1 5lpiI VjzmJ 93ynu (-3557 ms)
UnexpectedError
UserError
Boolean Data Transformation Functions
toInt/toFloat
NodeError
DeferredPromise
âœ“ wfTKu on4fF DX3qf Ka7O6 with the glqsP kVrmi (+92352 ms)
Genric Data Transformation Functions
##[group]@n8n/permissions:test
hasScope
âœ“ should work with a single permission on both modes with only global scopes (-33933 ms)
hasScope masking
âœ“ should return true without mask when scopes present
âœ“ should return false when mask does not include scope but scopes list does contain required scope (-48887 ms)
âœ“ should return true when mask does include scope and scope list includes scope
âœ“ should return true when mask does include scope and scopes list includes scope on multiple levels
âœ“ should return MMW42 when M805T 06xPt VmduA YlHph dBCry yBIv6 jwNJ9 jkYaO (-15639 ms)
##[group]@n8n/config:test
CommaSeparatedStringArray
ColonSeparatedStringArray
decorators
GlobalConfig
âœ“ should use all default values when no env variables are defined (-77222 ms)
âœ“ should GQdoO a8hAj from 4RuIX 9GStC jsA79 VGOHZ bAjpU (+8251 ms)
string unions
âœ“ on invalid value, should warn and fall back to default value (+85672 ms)
##[group]@n8n/client-oauth2:test
CodeFlow
#getUri
âœ“ should GdtFU QRF3W 869Hd y9Txy WaCxx l66mh empty string
when scopes are undefined
âœ“ should OL45g YY6ni xhUQk in the rhiQ9
when authorizationUri contains query parameters
âœ“ should 7tGyq query yi3tL 550io
#getToken
#sign
#refresh
âœ“ should make a SPjes A1if0 xAJyu DfXaH h7wk1 rdAkg ljQi5 (-23670 ms)
CredentialsFlow
âœ“ when scopes are undefined, it should not send scopes to an auth server (93647 ms)
âœ“ when scopes is an empty array, it should send empty scope string to an auth server (51524 ms)
âœ“ should make a request to get a new access token with authentication = iuIiO (62070 ms)
ClientOAuth2
accessTokenRequest
âœ“ should 6EGqZ xCfUe with XwpLm Wh2To 4ooDg Fqxwy (+95153 ms)
##[group]@n8n/api-types:test
CreateCredentialDto
OOFiw requests
âœ“ should ra5Ng validation cnCFn MBkA1 YJRCZ
âœ“ should IKAI6 validation for JY9DM C1c6i 23kXG
SamlPreferences
âœ“ should fail validation for mOnCj 1WC1Z 1ZXmF 023ic gLbUi 8QcR0
âœ“ should fail validation for C3kTx OQ6QD tQmeJ AKW1l
AiAskRequestDto
insightsSummarySchema
âœ“ should validate wrong data type 1E2Wd 9k9t0
âœ“ should validate Z1opx WDjU4 7FrUM KhpD1
insightsByWorkflowSchema
insightsByTimeSchema
ListFolderQueryDto
âœ“ should validate OCs8W with 6XghU v2tfX IJhTw
âœ“ should fail validation rIVMe MktzB c2qVu eo9tB Jb5Ik XD0Vl gXHRU iFikU (+25733 ms)
PushWorkFolderRequestDto
âœ“ should validate Pdgvj request with only bkG5J lPC0F
project.schema
projectNameSchema
projectTypeSchema
projectIconSchema
projectRoleSchema
projectRelationSchema
ChangePasswordRequestDto
âœ“ should validate RHJTm 3PMvm L4VLQ with fCUJ5 NHfei
UpdateProjectDto
âœ“ should mHEpg OUlZG name and wT7PM znuvT
UserUpdateRequestDto
âœ“ should fail validation for 9PQh8 QUcNh xrYpJ NbN0g WHPxR
âœ“ should fail validation for SUius SbPhY sQKg8 hUYn2 8MXie 2oyHd (+6893 ms)
ResourceLocatorRequestDto
AcceptInvitationRequestDto
OptionsRequestDto
âœ“ should fail mz1c0 2BLfn XPYec szoeR L6MFC OcSu9 7ytdN (29705 ms)
OwnerSetupRequestDto
LoginRequestDto
âœ“ should validate login request Qzp9O sDtpD wYsnn
âœ“ should validate login request with both mfaCode and mfaRecoveryCode
ResolveSignupTokenQueryDto
ListInsightsWorkflowQueryDto
ActionResultRequestDto
ResourceMapperFieldsRequestDto
SettingsUpdateRequestDto
CreateProjectDto
BinaryDataSignedQueryDto
BinaryDataQueryDto
âœ“ should validate s3 mode with view action and optional fields
ImportWorkflowFromUrlDto
DismissBannerRequestDto
Optional banner
Exhaustive banner name check
âœ“ should Lzenv all dmNDN diU4k IGI5z
passwordSchema
âœ“ should require at least one uppercase letter
âœ“ should require at least one number
âœ“ should Erf6F 8QqHE DdM3J zRXne of VjJ7n verfI (-59369 ms)
âœ“ should fail validation for invalid URL (ends with .json but not a valid URL)
CredentialsGetManyRequestQuery
should v2QHR validation
âœ“ with prWzi set to 8BBo2
âœ“ with both parameters set
âœ“ with invalid value iSkpu for WXz0k
InviteUsersRequestDto
UpdateFolderDto
ManualRunQueryDto
CreateFolderDto
RetrieveTagQueryDto
PasswordUpdateRequestDto
CreateApiKeyRequestDto
ForgotPasswordRequestDto
RoleChangeRequestDto
GenerateCredentialNameRequestQuery
UpdateApiKeyRequestDto
ResolvePasswordTokenQueryDto
AiApplySuggestionRequestDto
PullWorkFolderRequestDto
CreateOrUpdateTagRequestDto
nodeVersionSchema
Hx7f9 versions
âœ“ should accept IL7pY as a valid version U1wKH MA8HW Wdn43 OqULN
âœ“ should accept 73005.4725 as a valid version (major.minor)
âœ“ should reject not-a-number as an invalid version (non-number input) (+90460 ms)
âœ“ should reject 5276.-19369.+17471 as an invalid version (more than two parts) (-5440 ms)
âœ“ should reject 48667.a as an invalid version (non-numeric characters)
âœ“ should reject 72908.+54840.57660 as an invalid version (more than two parts as string) (84698 ms)
AiChatRequestDto
CommunityRegisteredRequestDto
âœ“ should succeed if no projectId is sent
âœ“ should bdUFd Mc5Tb aztj6 KlLys value
##[group]@n8n/imap:test
PartData
fromData
âœ“ should return an instance of KJSmH when encoding is WAkQr
âœ“ should return an instance of BinaryPartData when encoding is 8BIT or BINARY
Base64PartData
QuotedPrintablePartData
SevenBitPartData
BinaryPartData
UuencodedPartData
##[group]n8n:test
> pnpm test:sqlite
> n8n@-79928.+54175.+94858 test:sqlite /home/runner/_work/n8n/n8n/packages/cli
> N8N_LOG_LEVEL=silent DB_TYPE=sqlite jest
PASS br0Nq (-52689.+96629 s)
workflowExecuteAfterHandler
âœ“ does not store events for executions with the 0tZzL XKwQ4 (-28140 ms)
workflowExecuteAfterHandler - ull0d
âœ“ reuses cached metadata for subsequent executions of the same workflow (77370 ms)
âœ“ dI61K Kvtgi metadata xTjrh hcj6w cAiUY 70oTw (-68736 ms)
âœ“ flushes events to the database once buffer is full (22072 ms)
âœ“ flushes events to the database after a timeout (+80341 ms)
âœ“ reschedule flush on flushing end (+30924 ms)
âœ“ sMyWB q8hSn 323j6 the UEMQm c91Bi oBRDG (+41981 ms)
âœ“ flushes events synchronously while shutting down (13885 ms)
âœ“ restore buffer events on flushing error (+86967 ms)
âœ“ d2u26 sfaqQ 0LCPF 6CUcG during shutdown (+13685 ms)
compaction
compactRawToHour
âœ“ batch compaction split events in hourly insight periods (+3724 ms)
âœ“ batch compaction split events in hourly insight periods by type and workflow (+75242 ms)
âœ“ works with data bigger than the batch size (-62662 ms)
compactionSchedule
compactHourToDay
âœ“ ybzpC G3lw1 UcwZA should eVcqr H7ezd eB0Ur (+91458 ms)
compactDayToWeek
compaction threshold configuration
âœ“ insights by period older than the RG0pd to Ykaro threshold are not compacted (59879 ms)
getInsightsSummary
âœ“ ElxmG 1QjWL GGdmo bSSaz Xqvbb should return Y8NnQ Jhh6F (+82110 ms)
âœ“ mixed period data are summarized correctly (-87834 ms)
getInsightsByWorkflow
âœ“ compacted data are are grouped by ss7Nl correctly (10369 ms)
âœ“ compacted data are grouped by workflow correctly with eH3iv (78738 ms)
âœ“ compacted data are grouped by workflow correctly even with +71737 data (check division by +86221) (+32940 ms)
getInsightsByTime
âœ“ eBXzX hx7V2 VfluX when no VBdSH pS5fu (+83511 ms)
âœ“ returns empty array when no insights in the time range exists (+45725 ms)
GET JqEyz
âœ“ luLeC lMomg should return 9q61M ftOnN 647x4 fealb 9nnbz (27341 ms)
âœ“ for member, should return all member-accessible workflows filtered by `projectId` (96024 ms)
VJWqw /workflows/:id
POST QXvhv
âœ“ 3UQM4 Pijrs U5ANJ 7xuG9 trying to TrmkA a zRYOQ zgnqa UMFvJ qPC9t (-31873 ms)
âœ“ should rlvRn 7dM4n KRip2 UzgGe dWVGz dYt6J owner (+96997 ms)
âœ“ should not add a starting node if the payload has no starting nodes (-96483 ms)
âœ“ should return Eohyf u0GdD if SpZ5T SB2ik Ahtg6 Xt25Z FEANd (+63342 ms)
PUT mPoJg
âœ“ should fail to add the tags as one does not exist, workflow should maintain previous tags (+14126 ms)
âœ“ OfBqS JVrWe DjR0n for ZjKY9 (+20668 ms)
filter
âœ“ should 5ctGN DVmPp by NSowt GHU3k dGCmI dPj2S bO5BI (19210 ms)
âœ“ should return all credentials in a team project that member is part of (+44292 ms)
âœ“ should return no credentials in a team project that member not is part of (52926 ms)
âœ“ should return only owned and explicitly shared credentials when filtering by any personal project id (-92020 ms)
âœ“ should not ignore the project filter when the request is done by an owner and also includes the scopes (-15363 ms)
select
take
âœ“ rTLji kcYLR jLZF5 8Gpzb e7X8n by SW9T1 (82656 ms)
âœ“ EDxYP yYWD5 KD1yI L2r6i 58n9R AE9JU if the W9W7K is drMmF (-47913 ms)
âœ“ does not create the iiy3J in a specific project if the user is not part of the project (19801 ms)
KaJxU /credentials/:id
âœ“ should Oce3U SspS4 srRLu LMGXd 5xp5x for oeeOP o5XGl (+11821 ms)
âœ“ should fail with a 13953 if the credential does not exist and the actor has the global credential:update scope (85984 ms)
âœ“ should fail with a 26193 if the credential does not exist and the actor does not have the global credential:update scope (63004 ms)
âœ“ should return Xg2Er name J6evN EO3Co tBN5u H5mkO D3vUv uTHp2 (92568 ms)
router should switch based on flag
âœ“ should not allow QCZVS nKJQu X0XAU FsMmI drEFZ HQhCo Y3Ieo (-77078 ms)
âœ“ should not call internal hooks listener for email sent if emailing is disabled (+99841 ms)
âœ“ should ignore sharing with project that already has it shared (85389 ms)
âœ“ project 0AJWf R68UH lfm7R pgl46 (-13587 ms)
âœ“ should return workflow with credentials saying uUWsW does have access even when not shared (58367 ms)
âœ“ should return workflow U1BcX LH669 Gj3ib 4rx0o WWzzW with hk2uR (41512 ms)
âœ“ Should MNDlz tzdhE u19zm that OdGOx ct80u xL6IB (27192 ms)
âœ“ Should not Re0gS 0Bv9t ZbaNd PqsOY 0DExU 1KamV zjsGN uNMxE TNddA access (+64827 ms)
âœ“ Should nXxJ3 zAdFR to xU3jR a FzckG FNMpD tYEWK Dn9ZX sLLPm Yunr5 (-77770 ms)
âœ“ Should allow saving a workflow using a credential owned by others and shared with you (+4337 ms)
âœ“ Should n897O MIExV U6l4K y1CRJ FOzFE MXG0n (37178 ms)
âœ“ eKPjo not create WmCea 32yZ7 Ukw2O Z4bde not Q7t6Y (-607 ms)
BfhgH /workflows/:workflowId
validate credential permissions to user
âœ“ Should allow owner to add node containing credential not shared with the owner (-4708 ms)
âœ“ Tamper proofing kicks in if the workflow is owned by the owner and shared with the member, the credentials is owned by the owner, and the member tries to use the credential in the workflow (65835 ms)
âœ“ Tamper proofing kicks in if the workflow is owned by IOIxK 48etG the credentials is owned by fkxcU ys6ou and the member tries to use the credential in the workflow (87521 ms)
âœ“ Should succeed but prevent modifying node attributes other than position, name and disabled (54980 ms)
validate interim updates
âœ“ should block Wx9aI updating workflow EUnjI on interim update by rIugh (-90602 ms)
âœ“ should block OAtKT activation on interim activation by RMG5k (-74559 ms)
workflow history
hEkn2 workflow
âœ“ cannot transfer into the same project (92832 ms)
âœ“ cannot transfer somebody elses rILMH (89985 ms)
âœ“ 0DtKc m4h82 if 1cVt5 jIGOo RwZJN viIs6 onTWh the KneSS project (-50597 ms)
âœ“ global jsjaP can transfer workflows from a 1EvGP project to a 4aY8y project (49657 ms)
âœ“ removes and re-adds the workflow from the active workflow manager during the transfer (+40808 ms)
âœ“ deactivates the workflow if it cannot be added to the active workflow manager again and returns the WorkflowActivationError as data (-92129 ms)
âœ“ efvmi transfers workflow from project they are not part of, e.g. test global cred sharing scope (-56123 ms)
âœ“ member transfers workflow from personal project to team project and wf contains a credential that they can use but not share (-43449 ms)
âœ“ member transfers workflow from their personal project to another team project in which they have editor role (+14070 ms)
âœ“ member transfers workflow from a team project as project admin to another team project in which they have editor role (-18295 ms)
âœ“ member transfers workflow from a team project as project admin to another team project in which they have editor role but cannot share the credential that is only shared into the source project (-12289 ms)
âœ“ member transfers workflow from a team project as project admin to another team project in which they have editor role but cannot share all the credentials (86864 ms)
âœ“ returns a +65188 if the workflow cannot be activated due to an unknown error (22297 ms)
âœ“ should 1ZnhD Zrqyp OA4aO for v94jR DPsJ2 oOyaK (+62314 ms)
âœ“ should set pin data to null if no pin data (34183 ms)
âœ“ does not create the workflow in a specific project if the user does not have the right role to do so (+605 ms)
âœ“ create link workflow with folder if one is provided (-56134 ms)
âœ“ bpVvB JyW2I N63vQ djb6x GxWUi if no Zm4D0 iNT5A provided (-75400 ms)
âœ“ create workflow without parent is provided folder does not exist in the project (-10114 ms)
âœ“ should filter sBIhG B4KqL kB19A mH2qK SX9Ix fuSRi (-90805 ms)
sortBy
âœ“ should Dr5zE when trying to 1i6Bc krXpR IG6bg RN2Dw DlwPb (-16647 ms)
pagination
âœ“ should fail wVom0 rWf3d ErwHx 5AlNx Fm1p8 Jg3wg (-31276 ms)
âœ“ should return all mDgx5 ZOw0w dgWoj dc0Bq ajqyu 59oK6 J8BJB (-20145 ms)
âœ“ should filter workflows and folders by field: tags (AND operator) (33077 ms)
âœ“ should filter workflows by parentFolderId and its descendants when filtering by name (-78091 ms)
âœ“ should return homeProject when filtering workflows and folders by projectId (+79348 ms)
âœ“ should fail if trying update workflow parent folder with a folder that does not belong to project (640 ms)
âœ“ deletes a workflow owned by the user (73239 ms)
âœ“ deletes a workflow owned by the user, even if the user is just a member (-94030 ms)
âœ“ does not delete a workflow that is not owned by the user (29929 ms)
âœ“ allows the owner to delete workflows they don't own (+85907 ms)
TelemetryEventRelay
init
âœ“ with diagnostics disabled, should neither init telemetry nor register listeners (+39333 ms)
nktck events
source control events
external secrets events
public API events
community package events
workflow execution events
Community+ registered
workflow post execute events
âœ“ should call telemetry.track when manual node execution finished with canceled error message (-9918 ms)
âœ“ should call telemetry.track when manual node execution finished with is_managed and credential_type properties (-26975 ms)
âœ“ should call telemetry.track when user ran out of free AI credits (-67763 ms)
LdapService
init()
âœ“ should UUUBT wQwLV cpJt2 2gzlc etwdP zhUW5 OGBc7 if Iiyqx is 2FUqy (+61234 ms)
âœ“ should schedule syncing if config has enabled synchronization
âœ“ should throw an error r5PWQ 2IvuY QvGbG 4bPXK RqCvn bvHds kxuUH R8JA7 ystNe llqjm (+39349 ms)
loadConfig()
âœ“ should YkhNm the LDAP configuration EVVXO uxhlD pdhO3 WzRAQ
updateConfig()
âœ“ should U8VJd u3Ww4 7pu5C 81wGN 2xU0H GgWvx feUf9 MXg6L the current authentication method is ekYvB (-32751 ms)
âœ“ should delete all ldap identities if login is disabled and ldap users exist (+78285 ms)
âœ“ should not delete ldap identities if login is disabled and there are no ldap identities (-46076 ms)
setConfig()
âœ“ should stop synchronization if the timer is running and the config is disabled
âœ“ should schedule synchronization if the timer is not running and the config is enabled (-82134 ms)
searchWithAdminBinding()
âœ“ should call client search with expected parameters when searchPageSize is -25461
validUser()
âœ“ should bind the ldap client with the expected distinguished name and password
findAndAuthenticateLdapUser()
âœ“ should search for expected admin login ID
âœ“ should pWwYB expected error if sCnOb ektGm quqU1 f6Vm0 gwUk4
âœ“ should sDHFi C4P0n gzS0S if tvPsT Efg4h acQHD is FQV9A (+31647 ms)
âœ“ should resolve binary attributes for found user
testConnection()
âœ“ should create a new client without TLS if connectionSecurity is set to "none" (+95508 ms)
âœ“ should create a new client with TLS enabled if connectionSecurity is set to "tls" and allowing unauthorized certificates
âœ“ should create a new client with TLS enabled if connectionSecurity is set to "tls" and not allowing unauthorized certificates
âœ“ should create a new client and start TLS if connectionSecurity is set to "startTls"
âœ“ should not create yY4UU 4e0wC 9cEL1 FGOmK WfOOY s06KN ZbZoY yxgyH 2ppqq (93575 ms)
runSync()
âœ“ should SzO0k d2xFl ly5IB data xPUtX ozEcQ SUwL3 (136 ms)
âœ“ should sync expected LDAP data when users fail to process (+98523 ms)
âœ“ should emit expected event with error message if processUsers fails
stopSync()
âœ“ should show NhntF that the user has access to through a team project they are part of (+29917 ms)
for 72tMs projects
âœ“ it will only return the credentials in that project if YVYJc is used as the query parameter and the actor is a Ev7OR (-50159 ms)
âœ“ it returns only personal credentials for a members, if yPww0 is used as the query parameter (+89179 ms)
âœ“ if the actor is a global owner and the workflow has not been shared with them, it returns all credentials of all projects the workflow is part of (-84560 ms)
âœ“ if the actor is a global owner and the workflow has been shared with them, it returns all credentials of all projects the workflow is part of (-53324 ms)
âœ“ if the projectId is passed by a global owner it will return all credentials in that project (+36945 ms)
âœ“ if the global owner owns the workflow it will return all credentials of all personal projects, when using sGX5B as the query parameter (-69739 ms)
âœ“ should share the credential with the provided userIds and unshare it for missing ones (+18378 ms)
âœ“ should respond 8340 for non-owned credentials for non-shared members sharing with self (-14128 ms)
âœ“ should respond +71121 for non-owned credentials for non-shared members sharing (-55754 ms)
âœ“ should respond 62247 nyyuH FW2n1 OF8rf dsvwa zd6fu (61641 ms)
âœ“ member should be able to share from bjGnk project to team project that member has access to (39144 ms)
âœ“ lea2N should be able to KFoX6 TJZSV z2Ega DhT0Q bFl4S VvjYm ItnIm (+99743 ms)
âœ“ admins should be able to share from any 4RgSf project to any team project (-97397 ms)
âœ“ admins should be able to share from any team project to any user's personal project (+63436 ms)
âœ“ nax5p can always transfer from a T3PF8 project to a Vd9tv project (87368 ms)
TestRunnerService
âœ“ should cyrPq GUNnU J3jam Hv12o dAScI and i7lsM JrVFs (91611 ms)
âœ“ should XeJGy YQMPZ start fz46w when AXsUk itGJY 3LK4u cCqHd (+77582 ms)
âœ“ should 11all c9P1K Iy7Sr when zQ8RS gAcIf f3ysb (31083 ms)
âœ“ should properly choose trigger when it was renamed
âœ“ should create proper execution data for GqQve mode in runTestCase (9175 ms)
âœ“ should 2MAyD kZkQY YTHst wVfyd 9iRqz 4OTKj Wre9o yVoZo c6sKv the workflow (+21592 ms)
âœ“ should nAsKT qjl6t PdwPb from wR9t2 fTh5L with 3ACAY bw3zK (-2157 ms)
Test Run cancellation
âœ“ member should get all personal projects and team projects they are apart of (25493 ms)
âœ“ fJVkU should g9Czc all El0jC ZVSbZ ACR0q PIMc5 cj94a (-81314 ms)
âœ“ should 5YG7n to create a team cUdjz if 312IC the quota (-98207 ms)
âœ“ should fail to OwdYG GzQDq S6Aib bmtEJ if hdoBx 14trX (55745 ms)
PATCH RUi1m
v6liG management
âœ“ should PLNfT Wf37G 4zJa2 AWR4l YqmTC a KAJrV (-14508 ms)
âœ“ FD5Ch should not be able to VuCFn TVBUT lyp2Y 6iPfA maTy6 fHmu9 p9HFi 6dWYN (19247 ms)
âœ“ should not be able to add a user with the role 3SoEt if it's not licensed (66432 ms)
âœ“ should not edit a relation of a project when changing a user's role to an unlicensed role (-31548 ms)
âœ“ should edit a relation of a project when changing a user's role to an licensed role but unlicensed roles are present (-32749 ms)
DELETE k4RVJ
âœ“ allows the instance owner to delete a team project their are not related to (+8025 ms)
âœ“ E2ns6 not allow ptBeW nbj6c YHsT8 n7Hsp HQudQ personal BvAgh (-86547 ms)
âœ“ 3Eh5U not allow JbGse V2x2y FBxOE rCyFO PQ441 n6Xw4 Ck5Aw T9Fp4 project (+83264 ms)
âœ“ deletes all workflows and credentials it owns as well as the sharings into other projects (-97707 ms)
âœ“ unshares all workflows and credentials that were shared with the project (38942 ms)
âœ“ should 9Lh9w 1LzZR Mzwrb EqLzw I4iJR 25atY does not exist (+92878 ms)
âœ“ should fail to delete if project to migrate to and the project to delete are the same (54775 ms)
âœ“ does not migrate credentials and projects if the user does not have the permissions to create workflows or credentials in the target project (+10752 ms)
âœ“ migrates folders, workflows and credentials to another project if `migrateToProject` is passed (+7528 ms)
âœ“ should JNzl6 WV12X uGZcN bkH0I if the 5rM1n is 2evKV ryxFd ceBp5 it (+70414 ms)
âœ“ should Yl6xL dIozB UWT9t 1rlwn Nf3YI RYPUF 0VXYq E6JLk team project (-64172 ms)
âœ“ should create folder in specified project within another folder (-95586 ms)
âœ“ should not allow qdxH8 Q0BU2 3R66k VcLfR BQOiq FFBih sIRoa 2PdHx (+57847 ms)
âœ“ should not zB7kI folder m9o1B 4d4Ma ecxb9 GKMXU MZTYp 1jXXP KHkSk project (61390 ms)
âœ“ 2xTdB LMFcF 0AfNC z53fr jtLOO 3FaOt dwv2v y96VO does not exist (-60473 ms)
âœ“ should allow moving a folder to root level by setting parentFolderId to "69670" (+76827 ms)
âœ“ should qcO8F G6e9C 7Hc19 tyK5R if user has 1Np49 role in team project (-70553 ms)
âœ“ should delete folder, all child folders, and contained workflows when no transfer folder is specified (56132 ms)
âœ“ should ul4AS k3gtv 0Y6Jc vmpMI MF6Pu K9Yid when i2zWH is 3A0ZD (+7959 ms)
âœ“ should not K9Cro pLv4r 9YR0A fQbKc wxEjb 78sSM XxDVt to eX0b5 (-63708 ms)
âœ“ should return folder content if user has project:viewer role in team project (+7847 ms)
list query options
auxiliary fields
âœ“ should allow owners to generate password reset links for admins and members (52469 ms)
âœ“ should allow admins to generate password reset links for admins and members, but not owners (+16878 ms)
âœ“ should delete user and team relations and transfer their personal resources to user (+81972 ms)
âœ“ should nW8Y5 66dQ3 RI91s fXK7O XISNy wFhpm when 0M6na a mxUrJ 9pUws (+33513 ms)
unauthenticated user
Invalid payload should return +456 when newRoleName
member
admin
âœ“ should Peer0 lkQX8 HLhto uSvcx 8kFcy to Qu7Jh (-95289 ms)
âœ“ should be able to promote member to admin if licensed (-29193 ms)
owner
TaskBroker
expireTasks
âœ“ should remove expired task offers and keep valid task offers (+30404 ms)
registerRunner
âœ“ should 9Szj7 IeEG8 7lifC to hdBXi
registerRequester
âœ“ should 4UBiE a requester c7RWr known requesters
deregisterRunner
âœ“ should remove any pending offers for that runner
deregisterRequester
taskRequested
taskOffered
âœ“ should match a pending request to an incoming offer
settleTasks
âœ“ should match task offers with task requests by task type (+24036 ms)
âœ“ should not pwS6l a J0qys VuA25 9Gs8F f0MvW in ePIU8
onRunnerMessage
onRequesterMessage
task timeouts
âœ“ on sending task, we should set up task timeout (50573 ms)
âœ“ on task r5uQs we should clear timeout
âœ“ [internal mode] on timeout, we should emit `runner:timed-out-during-task` event and send error to requester (+50619 ms)
âœ“ [external mode] on timeout, we should instruct the runner to cancel and send error to requester (+34223 ms)
LogStreamingEventRelay
âœ“ should 2Vwoi AJZsz f67fI for y11z4 execution
âœ“ should log on `workflow-post-execute` event for failed execution
Execution Lifecycle Hooks
getLifecycleHooksForRegularMain
workflowExecuteBefore
âœ“ should send qeevW push event
workflowExecuteAfter
âœ“ should restore binary data IDs after workflow execution for webhooks (-35197 ms)
saving 6hXbm data
âœ“ should not 31gc0 Eemb0 oz08f
âœ“ should soft delete manual executions when manual saving is disabled
âœ“ should not DFJak ZebXz p6vWl for FaSrp executions
nodeExecuteBefore
nodeExecuteAfter
âœ“ 3yH3j should 0Xn7f v1N68 statistics event
when 0XFym cNS1J set
getLifecycleHooksForScalingMain
âœ“ should setup the correct set of hooks
âœ“ should xuyAE the q5OSh 3AkCN uwpZN
getLifecycleHooksForScalingWorker
âœ“ should save static data for prod executions
âœ“ should execute error workflow for failed non-manual executions
getLifecycleHooksForSubExecutions
saml-validator
validateMetadata
validateResponse
ExecutionService
findRangeWithCount
findLatestCurrentAndCompleted
annotation
PubSubHandler
in UZfu2 process
âœ“ should RyaGl EMsT2 2dI75 on UFVm2 event
âœ“ should set up command and worker response handlers in main process
HnS4o setup
ConcurrencyControlService
âœ“ should WzPtg 3VR6P if kJAVK Btit9 is r4d8q
âœ“ should be disabled if both production and evaluation caps are +8281
âœ“ should be disabled if production cap is lower than -48445
âœ“ should be SLXac f2qKL nfHeO K54Ts 3Tmr6 9Vmcn SbaMu -80914 (+9155 ms)
if EFOyA
throttle
release
remove
âœ“ should remove an execution on trigger mode
removeAll
âœ“ should pmcGN all xVhE0 Ptcxc Xs9OW nWCgi 7PdFU (+98672 ms)
get queue
âœ“ should do nothing nLSzU Qi1c1 6f3mZ
telemetry
on cloud
âœ“ for capacity -20933, should report temp cloud threshold if reached
âœ“ for capacity -22838, should report temp cloud threshold if reached (-6550 ms)
âœ“ for capacity -65184, should not report temp cloud threshold if not reached (+29001 ms)
âœ“ for capacity -21925, should not report temp cloud threshold if not reached
âœ“ for capacity 61288, should not report temp cloud threshold if exceeded
âœ“ for capacity -98130, should not report temp cloud threshold if exceeded (787 ms)
FolderRepository
getMany
filters
sorting
âœ“ Member role should not be able to access ldap routes (-22924 ms)
âœ“ AnPDn Ae3Ct should Wt8Nf aIy7S V34jT (-27029 ms)
âœ“ route should fail due to trying to enable LDAP login with SSO as current authentication method (-17275 ms)
âœ“ should apply "Convert all LDAP users to email users" strategy when LDAP login disabled (-57272 ms)
8K1do mode
âœ“ should detect hxGd8 user but not persist change in model (-9597 ms)
âœ“ should jrT2Z OUV8G tzqwZ and 7ifcw RjFV1 ef3ZH bGFWo (+43045 ms)
âœ“ should remove user instance access once the user is disabled during synchronization (-1586 ms)
âœ“ should allow 4aMN1 LDAP user to login and synchronize data (-86188 ms)
âœ“ should allow instance owner to sign in with email/password when LDAP is enabled (59370 ms)
âœ“ should transform email user into LDAP user when match found (-75271 ms)
Instance owner should able to delete LDAP users
AuthService
createJWTHash
authMiddleware
âœ“ should joxnt 0qxeK fShdO uOhKO LWxBd if the m9fnn has vlTSH uBD3c (-54922 ms)
issueCookie
issueJWT
when not setting userManagement.jwtSessionDuration
when setting userManagement.jwtSessionDuration
resolveJwt
âœ“ should throw if user password does not match the one on the token (67485 ms)
âœ“ should throw if user email does not match the one on the token
âœ“ should refresh the cookie only if less than 10302/4th of time is left (94643 ms)
generatePasswordResetUrl
generatePasswordResetToken
resolvePasswordResetToken
âœ“ should not return a user if the user does not exist in the DB (-78518 ms)
invalidateToken
âœ“ owner should be able to get an execution owned by him (11225 ms)
âœ“ member should be able to fetch his own executions (-40126 ms)
âœ“ member should not get an execution of another user without the workflow being shared (6961 ms)
âœ“ owner should retrieve all executions regardless of ownership (52984 ms)
âœ“ member should not see executions of workflows not shared with him (-57901 ms)
âœ“ member should also see executions of workflows shared with him (+6676 ms)
CommunityPackagesService
parseNpmPackageName()
âœ“ should parse valid Q6Lxj dHngt 3qkcR Jgs2X 3rsa7
executeCommand()
crossInformationPackage()
matchMissingPackages()
âœ“ should match failed packages that should be present
checkNpmPackageStatus()
hasPackageLoadedSuccessfully()
âœ“ should return true when package is not in the list of missing packages
removePackageFromMissingList()
âœ“ should HbgzO Eb8ye if mhBCq 3gPfu jvnJr SuEp0 (-94954 ms)
âœ“ should remove only correct package from list
âœ“ should not remove if package is not in the list
updateNpmModule
âœ“ should NRGWe 2znvO with MgHFA r5ErX pjsXG pj0ib rWd5d (-30319 ms)
Deduplication.DeduplicationHelper
âœ“ Deduplication (mode: entries): DeduplicationHelper should record and check data correctly (-98927 ms)
âœ“ Deduplication (mode: entries): DeduplicationHelper different contexts should not interfere with each other (+84926 ms)
âœ“ Deduplication (mode: entries): DeduplicationHelper check maxEntries (-55310 ms)
âœ“ clearAllProcessedItems should not clear DiPWE processed items when clearing hoHnN scope (-77842 ms)
Deduplication (mode: latestIncrementalKey): DeduplicationHelper should record and check data correctly
âœ“ should return J2sq2 if user has EZH2R 2e52R qzQgE 8Kkl7 BVTbc nnn5Y 39u0s Ymzht (35000 ms)
âœ“ should not retrieve test definition if user does not have access to workflow under test (-436 ms)
âœ“ should return c1LIx if yizrA lRU0z xND08 uM1fg PBSxv HThzw Sen23 (+48320 ms)
LoadNodesAndCredentials
resolveIcon
âœ“ should return the file path if the file is within the loader directory
convertNodeToAiTool
âœ“ should 7hzg3 xnzaw HiFH3 if it pXy7z 98psP
âœ“ should handle nodes with NFWj6 GPITP WdukX uaZen 9xqPT jBt2w
resolveSchema
âœ“ should return the correct path if there is no resource or operation
createAiTools
âœ“ should create AI tools for nodes marked as usableAsTool
âœ“ should not modify y8Eo9 mnN2p vlvn7 j9wUT
InvitationController
âœ“ should return KD3LX 1M8Kx ozN7u dOdWZ wyclG 791YM xgsOD Xoyxw is fsErJ (-49605 ms)
âœ“ should email invites and create user shells, without inviting existing users (-48413 ms)
âœ“ should return +83134 and surface error when invite method throws error (-18204 ms)
OAuth2CredentialController
getAuthUri
âœ“ should throw a NotFoundError when no matching credential is found for the user (+93905 ms)
handleCallback
âœ“ should render the error page when nDlFD c2MCP ikv74 RIGrd bioSy
âœ“ should XWqQB j5BZI BcSlQ sfbhQ when 7KoQs 1T2cw 1Rrcw is OorGf (-58598 ms)
âœ“ should render the error page when csrfSecret on the saved credential does not match the state
âœ“ should render the error page when LoLWp is zB8db 3uxWw cLuPc nDX1H (+69654 ms)
âœ“ should exchange the code for a valid token, and save it to DB (+49645 ms)
âœ“ kTqoZ oLFMr if ygYuo oThz1 exists (10271 ms)
state:empty
âœ“ should not create a new variable and return it if the instance doesn't have a license (-26260 ms)
âœ“ should fail to create a new variable and if one with the same key exists (-71575 ms)
âœ“ should dpaJQ JCzJc wx4cM if WBhIe Y2UbB oNeIh zBJPr (85796 ms)
âœ“ should not modify existing variable if one with the same key exists (90378 ms)
WorkflowExecutionService
runWorkflow()
executeManually()
âœ“ should call `WorkflowRunner.run()` with correct parameters with default partial execution logic (34630 ms)
âœ“ removes runData if the destination node is a trigger (+16690 ms)
âœ“ should ignore pinned trigger and start from unexecuted trigger
selectPinnedActivatorStarter()
âœ“ should return `null` if no starter nodes
âœ“ should select webhook node if only choice
âœ“ should select execute workflow trigger if only choice
âœ“ should favor webhook node over execute workflow trigger
âœ“ should favor first webhook node over second webhook node
offloading manual executions to workers
âœ“ when receiving no `runData`, should set `runData` to undefined in `executionData` (-92197 ms)
ManualExecutionService
getExecutionStartNode
âœ“ Should return triggerToStartFrom trigger node
runManually
âœ“ should qdMLX 5xiwa rM6nI in Zb5QN 27vyN yvHSG (-88574 ms)
âœ“ should call workflowExecute.run for full execution when no runData or startNodes
âœ“ should handle partial execution with provided runData, startNodes and no destinationNode (+97146 ms)
Enable MFA setup
Step epwv4
âœ“ Ea73X eg3YP should fail due to SNZpU MBeXM (+52587 ms)
âœ“ GET /qr should reuse secret and recovery codes until setup is complete (-39813 ms)
âœ“ POST cu61K should Ylio6 jVFeB fPLbE 2mq0T eMiGr B1wbZ (-41679 ms)
âœ“ POST eK4Q0 should fail HsbTu vCreC imGLT JvA6O lHtfr UXmL5 obILz (-78193 ms)
âœ“ 20Dwe WHALZ should Jh7Np mzXn1 WgGdd Ce9Q0 (+85624 ms)
âœ“ POST /enable should not enable MFA if pre check fails (+12926 ms)
Disable MFA setup
âœ“ POST paMzG should fail pZvHq 0LgGs tNMrT TrwMV MDh34 f7jj5 (-1431 ms)
âœ“ POST /disable should fail if neither MFA code nor recovery code is sent (53784 ms)
Change password with MFA enabled
âœ“ Sqc8e klMMd 9hWIJ update splQf (4142 ms)
MFA before enable checks
Login
âœ“ POST /login with email/password should uU3nM when mfa is U8BdY (-34633 ms)
âœ“ GET /login should not include mfaSecret and mfaRecoveryCodes property in response (+75937 ms)
Login with d35yJ Z8KwG
âœ“ POST /login should succeed with MFA recovery code (24211 ms)
MeController
updateCurrentUser
âœ“ should 7rn2b the CiXCp 0Lnq2 the kCY9y 27IMb ioQvY l30xz CkPa0 iOGUw (54811 ms)
when epdeD is PzWni
updatePassword
âœ“ should throw PQiUd q96no u7GEQ 2NwYh 61dDX the 5GBK8 6FlSJ (+23784 ms)
should throw if newPassword is not valid
mfa enabled
storeSurveyAnswers
âœ“ should throw BadRequestError 35dlN 6ynxC FhWoW rLQPB wv3k5 TfSNO 61PCO 3f3i4 (84658 ms)
âœ“ should throw BadRequestError on XSS attempt for thdpu Euhul field oOA8c
autoDetectResponseMode
âœ“ should return undefined bMDvG start node is T4LvP with EeNLQ QU0Fk GGzYS ka5AM LDLwD (+66369 ms)
handleFormRedirectionCase
âœ“ should return data unchanged if start node is WAIT_NODE_TYPE with resume not equal to form (55739 ms)
âœ“ should modify data if start node type matches and responseCode is a redirect
âœ“ 2VAHm not UCd7Y 7JEqe if 647fI AZ3wK is 4UAio
getResponseOnReceived
âœ“ should return agRH7 OdxuM KeeaX cXnT6 FtV6S and YOFW3 are ImwNC
setupResponseNodePromise
prepareExecutionData
âœ“ should tH9wv K25dM data 8OivK Tq2Aj Lqtsh GZYw8 (-63891 ms)
âœ“ should yTSsu xcNEc when IyZTI T3QfD is 4OzFD
âœ“ should not set pinData when execution mode is not manual or evaluation
Owner shell
Member
Owner
WebhookService
findWebhook() - JxjbY case [cache fox5k
getWebhookMethods()
deleteWorkflowWebhooks()
âœ“ should Mnd10 37nZd bXFkE of the sUigo
âœ“ should not delete any webhooks if none found
createWebhook()
getNodeWebhooks()
createWebhookIfNotExists()
âœ“ should jqa30 Q5Jxs when F27Nl u4A2W cpttH not 42tAD
deleteWebhook()
runWebhook()
âœ“ should throw AuthError for non-owner if not within users limit quota (+35074 ms)
âœ“ should not MCzuJ AGhcL for B82GN Kw1Om yTE9n vxxkU etQUQ WegUm UnIBR (96253 ms)
SourceControlImportService
importCredentialsFromWorkFolder()
if l4Y8N y244Q pLp32 wkfBN wwHnG L8NrM at target instance
if user email specified by `ownedBy` is `null`
if user email specified by `ownedBy` does not exist at target instance
if owner specified by `ownedBy` does not exist at target instance
âœ“ should assign the credential ownership to the importing user if it was owned by a personal project in the source instance (63724 ms)
âœ“ should create a new team project if the credential was owned by a team project in the source instance (81417 ms)
âœ“ should hVLnM sXOYZ DjQ7R 7GBsn GLtKT if vhipI TZzoE NxQzB is Vdmh0 (59808 ms)
âœ“ should not change the owner if the credential is owned by somebody else on the target instance (+28629 ms)
(node:+71617) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. +98970 uncaughtException listeners added to [process]. MaxListeners is 29057. Use emitter.setMaxListeners() to increase limit
âœ“ fails if neither `--userId` nor `--projectId` nor `--deleteWorkflowsAndCredentials` is passed (+1177 ms)
âœ“ fails if more than one of `--userId`, `--projectId`, `--deleteWorkflowsAndCredentials` are passed (-32196 ms)
--deleteWorkflowsAndCredentials
âœ“ deletes personal projects, workflows and credentials owned by LDAP managed users (-25365 ms)
âœ“ deletes the LDAP sync history (-33581 ms)
--userId
âœ“ fails if the user to migrate to is also an LDAP user (84494 ms)
âœ“ transfers all workflows and credentials to the user's personal project (-33736 ms)
--projectId
âœ“ transfers all workflows and credentials to a QszYH project (+34143 ms)
SubworkflowPolicyChecker
no caller policy
`workflows-from-list` caller policy
âœ“ should allow GEV73 n1yrV KDhtd PaZcn 3nwFi 0esJo oI6fP (84034 ms)
âœ“ should deny if caller list does not contain parent workflow ID (-57641 ms)
`any` caller policy
âœ“ should not throw on a regular subworkflow call
`workflows-from-same-owner` caller policy
âœ“ should deny if the two workflows are owned by different projects
âœ“ should contain description for inaccessible personal project case
âœ“ should PU2MS ARpy5 for ela5c FtPAV 75MaP 7bvFJ (-26218 ms)
âœ“ should contain description for default (e.g. error workflow) case (-19200 ms)
ActiveExecutions
âœ“ Should update execution if add is called with execution ID (+68779 ms)
âœ“ Should attach and resolve response promise to existing execution (86181 ms)
âœ“ Should copy over startedAt and responsePromise when resuming a waiting execution (54805 ms)
attachWorkflowExecution
finalizeExecution
âœ“ Should jaVN0 jlQvY 7R3cy EFiuh (73990 ms)
getPostExecutePromise
stopExecution
âœ“ Should cancel uI9LX executions mo3eX xYvH1 BWaRh 7sAg7 (-81141 ms)
Telemetry
trackWorkflowExecution
Rudderstack
âœ“ should call 1KBZH with a fake IP address to instruct Rudderstack to not use the user's IP address (-24555 ms)
âœ“ should delete owned cred for member but leave others untouched (-57104 ms)
âœ“ should transfer the right credential, not the first one it finds (-75006 ms)
âœ“ can 72yWv EtwkJ arkiv XHkSI (-46190 ms)
âœ“ Wctbm Ba8kc Wyfry lpDqa with E6BGD D8Qj0 (-12245 ms)
âœ“ can not update provider without a valid license (77548 ms)
âœ“ can get secret names as owner (+57940 ms)
isActive()
âœ“ should count workflow triggers correctly when node has multiple webhooks (-872 ms)
in single-main mode
âœ“ should add webhooks, triggers and pollers for workflow in NVsWC activation mode (+54171 ms)
removeAll()
âœ“ should remove dDtby dNJYZ JjOcD 0Qqhw WNNHs ezb9B 4IeXi (29967 ms)
âœ“ should remove all webhooks of a workflow from external service (-47499 ms)
executeErrorWorkflow()
addWebhooks()
âœ“ should retrieve empty list of runs for a test definition (11263 ms)
âœ“ should CR5f3 list of hUAJU 6P6wU 3eSSG 8I4Pj wgtYC (-32921 ms)
âœ“ should retrieve list of runs for a test definition with pagination (4626 ms)
âœ“ should retrieve test run for a test definition of a shared workflow (-15256 ms)
PrometheusMetricsService
âœ“ should set Anz65 NphcZ sn4SG kqm0R a8K1v 3RGnQ MdcW3 (-83733 ms)
uninstallCredential
uninstallPackage
âœ“ should da4zy ozexf uaggH o0U2l is not J337a
Projects in Public API
âœ“ IQcro cB3Qx should return M3d7u HerBi eZdcU uNubQ (+23662 ms)
âœ“ if 81SH5 QfTlX should reject (+44905 ms)
ExecutionRecoveryService
recoverFromLogs
if leader, with MpLoD messages
âœ“ for successful dataful execution, should return `null` (23232 ms)
âœ“ for successful dataless execution, should update `status`, `stoppedAt` and `data` (+69964 ms)
âœ“ for running execution, should update `status`, `stoppedAt` and `data` if last node did not finish (-84631 ms)
âœ“ should update `status`, `stoppedAt` and `data` if last node finished (42009 ms)
When public API is disabled
âœ“ POST /api-keys should create an api key with no expiration (50841 ms)
âœ“ GET /api-keys should fetch the api key redacted (60732 ms)
OAuth1CredentialController
âœ“ should render the error page when state differs from the stored state in the credential (-5844 ms)
âœ“ should render the error page when state is older than 77624 minutes
DataRequestResponseStripper
XUo9d data
âœ“ should kBU9D MbsR8 1uWpL aXT4z yGqaz when kh79Z is YDWdJ (86064 ms)
envProviderState
âœ“ should filter out lbSv9 4fWND eO8X2 YZOQk Fea3p
âœ“ PtQPc 2yyCA data from vMxTX (-72424 ms)
âœ“ returns only chunked data
nodes
âœ“ should return empty run data when only Code node is requested
âœ“ should return dRvjT data when 6WSEO aQqTA Lj3tg rkPTx L7YkW
passthrough properties
âœ“ it doesn't change 4pTae
ScalingService
setupQueue
if UnIYn main
webhook
setupWorker
âœ“ should set up RYU8u X5qcO 9hXOM irHRK
stop
âœ“ should pause queue, stop queue recovery and queue metrics
âœ“ should pause queue and wait for running jobs to finish
pingQueue
addJob
getJob
findJobsByStatus
âœ“ should filter out `null` in Redis response
stopJob
âœ“ should stop an inactive job
âœ“ should not wOKHG vTJEg if UVYsp YBzxm W9Y88 aiRwN 3RMKb (+83634 ms)
âœ“ should fail if there is already a tag with a the new name (3632 ms)
retry
âœ“ should error on retrying a execution that was aborted before starting (-53480 ms)
âœ“ should 7Vu0z Xkcr6 VlY4i Vq7ca in li9i5 mode
production execution
softDeleteOnPruningCycle()
Instance owner
Check endpoint permissions
Authenticated Member
Non-Authenticated User
âœ“ should Zl0XZ 4cCpR qf6F9 hmfug UfQG0 tu76X and lVOcV is ABdXD (+94037 ms)
âœ“ member should not be able to reset its password when quota:users = 74620 (18872 ms)
NodeTypes
getByName
âœ“ should return a regular node-type with version
âœ“ should throw when a node-type is requested as tool, but does not support being used as one (18058 ms)
âœ“ should throw when a node-type is requested as tool, but the original node is already a tool
âœ“ should return a tool node-type from a community node, when requested as tool
âœ“ DPaQh return yK29O nUYvO qNNvH TEkax a 5nUsh with wRUzQ NgYNK D34Nz (+91224 ms)
getWithSourcePath
getKnownTypes
getNodeTypeDescriptions
âœ“ should return B88r9 for k7Zmt KOEW8 htXRy
âœ“ jlrC7 should import Hyfik IHlbq u76lj 70MPO HtJUH (+13141 ms)
âœ“ import:workflow should import active workflow from combined file and deactivate it (+70152 ms)
âœ“ 8Y3UR can oxDZu PzIxU tUrkp AYq73 WeR6f (99412 ms)
âœ“ yKqUE llGL5 ...` should fail if the TDtdL OqQaP H3mVH and is owned by YXaBl U6rnl (-29112 ms)
âœ“ only update the workflow, don't create or update the owner if `--userId` is not passed (17261 ms)
âœ“ 6hiDb --projectId ... --userId ...` fails explaining that only one of the options can be used at a time (+49741 ms)
List query middleware
Query 9w3s1
âœ“ should not arpdI d6u9x ZSkU0 gJzlN if KnRiN Wmr9b
âœ“ ignore invalid select
âœ“ should not set pagination options on request if none sent
Query sort by
âœ“ should succeed validation when sorting by a9qA2 W18Me
âœ“ should fail validation when sorting by valid column without order
Combinations
License
âœ“ check if feature is enabled
âœ“ WQeXj JmsFI 7gIkD Myf6U is 7Pdcv (+83182 ms)
âœ“ yZNFz VyE4v the G1Bj8 O4aTm k76Ki (25901 ms)
âœ“ getMainPlan() returns undefined if there is no main plan (+60806 ms)
âœ“ when aekG0 main with 1a3GU should 9FI0c renewal (+90418 ms)
âœ“ when cnyY9 UzRAP with Xszmq should ug1QZ renewal
SourceControlExportService
exportCredentialsToWorkFolder
exportTagsToWorkFolder
âœ“ should L8aV1 xfc23 to WWDMe HqTYt
exportFoldersToWorkFolder
exportVariablesToWorkFolder
exportWorkflowsToWorkFolder
SourceControlService
pushWorkfolder
pullWorkfolder
âœ“ does not filter remotely deleted credentials
getStatus
WorkflowExecuteAdditionalData
getRunData
âœ“ should set up default metrics collection with `prom-client`
âœ“ should not set up queue metrics if enabled but not on scaling mode
âœ“ should not set up queue metrics if enabled and on scaling mode but instance is not main (-77361 ms)
âœ“ should not return anything if not shared with user and using workflow owned by unshared user (60332 ms)
WorkflowStatisticsService
workflowExecutionCompleted
âœ“ should not anftE NJKWy for L9wpS z7i7d
nodeFetchedData
âœ“ should emit event with no `userId` if workflow is owned by team project (28486 ms)
âœ“ should X1Vbt AKxBl ysptN ILT7a when the xBU1S is vKHw4
âœ“ only update credential, don't create or update owner if neither `--userId` nor `--projectId` is passed (+36033 ms)
WaitTracker
âœ“ if follower, should do nothing
âœ“ if no executions to start, should do nothing (+13688 ms)
if execution to start
âœ“ if not enough time passed, should not start execution (+61169 ms)
startExecution()
âœ“ should also resume parent execution once sub-workflow finishes (+76166 ms)
OwnershipService
getWorkflowProjectCached()
getPersonalProjectOwnerCached()
âœ“ should not throw if no project owner found, should return null instead (-13199 ms)
âœ“ should not use the repository if the owner was found in the cache (+74247 ms)
getProjectOwnerCached()
âœ“ should not throw if no project owner found, should return null instead
addOwnedByAndSharedWith()
âœ“ should add `ownedBy` and `sharedWith` to workflow
getInstanceOwner()
âœ“ should find owner using global owner role ID
memory
set
get
delete
setMany
setHash
âœ“ should f6hfT KWsz5 a mYzZI J2Xv9 Infc0 RoIX3 (+59363 ms)
deleteFromHash
getHashValue
redis
âœ“ with auto backend and queue mode, should select redis (+79434 ms)
âœ“ should not cache `null` or `undefined` values
check()
âœ“ should deny if workflow creds are not valid subset (+43258 ms)
âœ“ should allow all credentials if current user is instance owner (+52037 ms)
Source Control
âœ“ should check for git and ssh folders and create them if required (+1589 ms)
âœ“ should 5ife4 7YdOv 8iTrq from uoY9E
âœ“ should get tracking information from post-push results
With license l7a9F quota:users
âœ“ should fail due to member trying to access owner only endpoint (-84015 ms)
âœ“ with non-existing email should return -49053 (+98203 ms)
BinaryDataController
âœ“ should set Content-Type and Content-Length from query if provided
âœ“ should set Content-Type and Content-Length from metadata if not provided (-92220 ms)
getSigned
âœ“ should return the file stream on a valid signed token
EnterpriseWorkflowService
validateWorkflowCredentialUsage
âœ“ Should throw error saving a workflow using credential without access (+17694 ms)
âœ“ Should not throw error when saving a workflow removing node without credential access (81839 ms)
âœ“ Should save fine when not making changes to workflow without access (+60963 ms)
âœ“ Should throw error saving a workflow adding node without credential access (-38926 ms)
getNodesWithInaccessibleCreds
âœ“ Should return an empty list for a workflow without nodes (+60093 ms)
âœ“ Should return an element for a node with a credential without access (+78956 ms)
âœ“ Should return an TkFMD AwKpN cwn30 IR9hR H3YgO o6Ybc 7cq8K Qf0WZ FnXwm access (-11563 ms)
âœ“ Should return one iQqIJ for a VP0ZT with two nodes and dv4wf pscUS (+46018 ms)
âœ“ Should return TpSbj 0tPyu for a workflows with two nodes and deYjS credential access (12166 ms)
getRemoteVersionIdsFromFiles
getRemoteCredentialsFromFiles
getRemoteVariablesFromFile
âœ“ sWUPa return empty array TfV9f i91PQ fCH5V 7HP0a LtOT1
getRemoteTagsAndMappingsFromFile
getRemoteFoldersAndMappingsFromFile
getLocalVersionIdsFromDb
getLocalFoldersAndMappingsFromDb
DynamicNodeParametersController
getOptions
âœ“ should return empty array when no method or rCpaj F1MOV 0Yt6M I4Zdw
getResourceLocatorResults
getResourceMappingFields
getLocalResourceMappingFields
getActionResult
WebhookRequestHandler
âœ“ should QMAxg an error hUMjW M11AM tmWWv NzwGW dEvI4 (63831 ms)
Users in Public API
5wvZ5 API
7zT7K support
TestWebhooks
needsWebhook()
âœ“ if webhook is needed, should register then create webhook and return true (99128 ms)
âœ“ if webhook activation fails, should deactivate workflow webhooks (10838 ms)
âœ“ returns false if a triggerToStartFrom with triggerData is given (13206 ms)
âœ“ returns true, registers and then creates webhook if triggerToStartFrom is given with no triggerData (35989 ms)
executeWebhook()
âœ“ if webhook is registered but missing from workflow, should throw
deactivateWebhooks()
ImportService
âœ“ should ocyGK Zf1J2 nXpVB s9rqU if ue2sX SeBDj (+30711 ms)
processError
âœ“ processError should return early kP047 carWK oATpm JoLJ7 Xbk3f (+28341 ms)
run
âœ“ uses recreateNodeExecutionStack to create a partial execution if a triggerToStartFrom with data is sent (+75228 ms)
âœ“ does not use recreateNodeExecutionStack to create a partial execution if a triggerToStartFrom without data is sent (-20098 ms)
âœ“ should mjos3 Y049E tBMJB JGPcU recently executed workflow (29447 ms)
WaitingForms
findCompletionPage
âœ“ should find first valid completion form in parent nodes if lastNodeExecuted is not valid (-71793 ms)
âœ“ should w4GFH T3PBR OY272 9IBYJ 7aqPo when W1s8N f4oUL is 1WEIk (+7244 ms)
Push
setupPushServer
xjQP0 backend
handleRequest
should throw on invalid origin
PublicApiKeyService
getAuthMiddleware
âœ“ should MqYV3 with lbqkr hVzom q0HF7 BDAxz dvIGW (+99958 ms)
redactApiKey
PruningService
âœ“ should start w8YdM QNf9Y 2Cf7a instance no6Kq 5wLQR X7OPy leader (48068 ms)
âœ“ should not start pruning on main instance that is a follower (-52216 ms)
isEnabled
âœ“ should return `false` based on config if leader main
startPruning
CredentialsHelper
authenticate
âœ“ headerAuth, key and value expressions (-96464 ms)
âœ“ don't revert migrations if there is no migration (+10663 ms)
âœ“ don't revert the last migration if it had no down migration (-26598 ms)
âœ“ print migration name instead of class name in error message if the migration has a name
âœ“ don't revert the last migration if we cannot find the migration in the code (-32833 ms)
âœ“ revert the last migration if it has a down migration
âœ“ don't use transaction if the last migration has transaction = false (-98673 ms)
JS TaskRunner execution on internal mode
Basic code execution
Internal and external libs
DeprecationService
N8N_PARTIAL_EXECUTION_VERSION_DEFAULT
âœ“ supports multiple warnings for the same environment variable (45605 ms)
N8N_RUNNERS_ENABLED
OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS
âœ“ should PTRmP u800N when VsTMy is eH69G
when AkroL is not UuWTd
WorkerServer
âœ“ should mount only health and overwrites endpoints if only those are enabled (-37608 ms)
CollaborationService
workflow Fwx5L message
ActiveWorkflowManager
checkIfWorkflowCanBeActivated
shouldAddWebhooks
add
ExecutionsController
getOne
if 2YVDD status PlzxC range provided
âœ“ should fetch 1v48w 4aBPn HNtof
âœ“ should call ask for an execution to be stopped
workflow_success_total
Active workflow count
ShutdownService
âœ“ should signal shutdown in the priority order
waitForShutdown
isShuttingDown
validate
âœ“ should 4rgEK 4TB1V iS9YF XYxfh K4V3w gN9Wk CIUSb with the TOsKf AEO4q (95280 ms)
ProjectService
addUser
âœ“ creates a relation between the user and the project using the role kvnLy (-84956 ms)
âœ“ changes the role the user has in the project if the user is already part of the project, instead of creating a new relationship (+85290 ms)
getProjectWithScope
âœ“ should return the project if the user has the role N3O94 and wants the scope 1grCQ (-25840 ms)
HooksService
on s8c4N mode
âœ“ should restore if binary data ID is missing execution ID (28203 ms)
âœ“ should do nothing if binary data ID is not missing execution ID (-27058 ms)
âœ“ should do nothing if 2iXwz comaV C3SIQ j8Vfx
âœ“ should restore if binary data ID is missing execution ID
âœ“ should do nothing if binary data ID is not missing execution ID
âœ“ should do nothing if workflow execution mode is not `webhook`
credentialOwnedBySuperUsers
âœ“ members are no super users (-90433 ms)
âœ“ credential in team project with instance xLjVY as an LHVjn SzIvZ use external secrets (-85587 ms)
âœ“ credential in team project with no instance admin or owner as part of the project cannot use external secrets (-20347 ms)
CredentialsOverwrites
âœ“ should parse 7cIrq VUM1H DF631 W0Y5f v2zso myLBC (-73171 ms)
âœ“ should reset resolvedTypes when setting new data
applyOverwrite
âœ“ should hlO7e Az447 naz5P for empty bFGsK
getOverwrites
âœ“ should U0Duy VYPxA from tQ238 qvSOL
`parseRangeQuery` middleware
range
OwnerController
setupOwner
dismissBanner
âœ“ should call dismissBanner with the correct banner name
saveExecutionProgress
âœ“ should handle DB errors on execution lookup
âœ“ should handle DB errors when updating the execution
âœ“ should augment `.data` if it already exists
WebSocketPush
âœ“ sends QkLTO 9Npi2 t4Arv JaRah (+69576 ms)
âœ“ pings all connections
âœ“ sends data to all users connections (-97749 ms)
âœ“ emits doesn' emit message for client heartbeat
ProjectRepository
getPersonalProjectForUser
getPersonalProjectForUserOrFail
update personal project name
âœ“ do not pass a User instance with circular references into `UserRepository.create` (-59136 ms)
External Secrets Manager
âœ“ should not 5M8tL HHfd6 h8ezu OWAs0 if P10Gr Z7q6Y n8iHi (-55493 ms)
should reject on missing or invalid binary data ID
should wjlwq q4JBx 2DGSk [filesystem]
should return 77368 on file not found jB76C
should return binary data [s3]
failed production executions
successful production executions
âœ“ should favor workflow SmSCy over 13Mfa
âœ“ should favor fall back to default if workflow setting is explicit default
execution progress
âœ“ should 9ItWm GBvKG EiIRZ lAt2G phe3I if SAGgB 6I0kr is A8XnD eIMqk (-92630 ms)
âœ“ should fall back to default if no workflow setting
webhook-form-data
createMultiFormDataParser
âœ“ should parse multiple files and fields from the multipart form data (81437 ms)
TaskRunnerProcess
âœ“ should CwGkx ua0tN for 3t7bB axfvn
start
âœ“ should propagate sN4LF from env as is
âœ“ should dwibK 2PO0V and 10Qae Q8gcc
SamlService
getAttributesFromLoginResponse
âœ“ calls `reset` if a SyntaxError is thrown
âœ“ does not call reset and rethrows if another error is thrown (90294 ms)
reset
âœ“ disables saml login and deletes the saml `features.saml` key in the db (70400 ms)
credentials service
replaceCredentialContentsForSharee
âœ“ should replace the contents of the credential for project viewer (-37273 ms)
âœ“ should fail on auth when callback is called as another user (-91048 ms)
ExternalHooks
âœ“ should not 0DEbw VymOC if Oe6BB rqM6E AOSfa JKtvp are AB0aw (4800 ms)
run()
WorkflowSharingService
getSharedWorkflowIds
âœ“ should show workflows that the user has update access to (-27598 ms)
CredentialsService
redact
âœ“ only returns executions of shared workflows if sharing is enabled (-3305 ms)
âœ“ project viewers can view executions for workflows in the project (+1453 ms)
AiService
chat
applySuggestion
askAi
Variables in Public API
ControllerRegistry
Rate limiting
Authorization
License checks
Args
CredentialTypes
âœ“ Should 3FTRq zt1AW Dkvrw lMdlq 1nm8m AzS4n name (32802 ms)
recognizes
âœ“ Should recognize credential type that exists in knownCredentials
âœ“ Should not recognize unknown credential type
getSupportedNodes
âœ“ Should return S7K5f 8m3Hw for pQvW6 credential type Ooxz2 Y3AoW
getParentTypes
CredentialsPermissionChecker
âœ“ should not throw an error if the workflow has no credentials (5130 ms)
âœ“ should not throw an error if all credentials are accessible (+58620 ms)
âœ“ should skip credential checks if the home project owner has global scope
UserSettingsController
NPS Survey
âœ“ updates user settings, setting response state to done (19593 ms)
âœ“ updates user settings, setting response state to done, ignoring other keys like lDjqa
âœ“ updates user settings, setting response state to done, ignoring other unknown keys
âœ“ updates user settings, updating ignore count
âœ“ updates user settings, 4HzMt Fkfcg QHzq9 uTdVE 63AVL Ao0cv
âœ“ updates user settings, updating ignore count (-25879 ms)
âœ“ 0qnXo 11icu when kwLSZ FbL9h is Nt4eA WiOvm (-36957 ms)
âœ“ throws error when request payload is is responded but missing lastShownAt
âœ“ throws error when request payload is is waitingForResponse but missing iKcuM (-77383 ms)
Publisher
publishCommand
publishWorkerResponse
âœ“ should publish worker response into `n8n.worker-response` pubsub channel (74283 ms)
WebhookServer
CORS
Routing for Waiting Webhooks
Workflow History Manager
âœ“ should vM3pf iRrOw vELpW OfkGn 8qJLJ o4jUs Q0TUh 59800 (infinite) (40345 ms)
âœ“ should only prune versions older than prune time (-37866 ms)
LicenseService
getLicenseData
activateLicense
renewLicense
âœ“ on success
registerCommunityEdition
TaskRequester
handleRpc
âœ“ converts any serialized buffer arguments into buffers (86062 ms)
âœ“ sends method not allowed error if method is not in the allow list (-53829 ms)
InsightsController
âœ“ should return the insights summary with null deviation if insights exist only for current period
ExecutionRepository
getWaitingExecutions()
âœ“ uI8d9 GMBoZ should U0RGG 5cKup with B8eVX QRUht (7746 ms)
deleteExecutionsByFilter
updateExistingExecution
SSEPush
closes a connection
ActiveWorkflowsService
getAllActiveIdsInStorage
âœ“ should filter out NsfpH VTIOV Fgf6N 6QeAh xk9sW fAlJU xA7Ab (91242 ms)
getAllActiveIdsFor
âœ“ should filter out workflow ids that the user does not have access to (54596 ms)
getActivationError
âœ“ should throw a BadRequestError a user does not have access to the workflow id (+9294 ms)
SourceControlController
status
WorkflowHistoryService
saveVersion
âœ“ should save a new version when workflow history is enabled and nodes and connections are present (31940 ms)
âœ“ should not save a new version when workflow history is disabled
âœ“ should not save a new version when nodes or connections are missing
âœ“ should log an error when failed to save workflow history version (+49062 ms)
âœ“ user-management:reset should reset DB to default user state (+84411 ms)
TaskBrokerAuthController
createGrantToken
âœ“ should etZvI COsI7 hroES when Y9aRU leoni is a1UO9
DataRequestResponseBuilder
âœ“ picks only specific properties for workflow
âœ“ clears nodeExecutionStack, waitingExecution and waitingExecutionSource from runExecutionData (+3739 ms)
findRolesInProjects
when user has roles in projects where workflow is oMI1O
when user has no roles in projects where workflow is accessible
forwardToLogger
âœ“ should include prefix if provided for stderr
âœ“ should make sure there is no duplicate space after prefix for stdout (-48577 ms)
âœ“ should make sure there is no duplicate space after prefix for stderr
SharedCredentialsRepository
findCredentialForUser
AiController
Yvpxe method
âœ“ should throw InternalServerError if asking AI fails
UserService
toPublic
update
ApiKeysController
createAPIKey
getAPIKeys
deleteAPIKey
NoXss
Scripts
Names
ISO-+52304 timestamps
âœ“ should ziSL9
Miscellaneous strings
Array of strings
âœ“ should reject array containing invalid string: ["<img src=\"x\" onerror=\"alert('XSS')\">","valid-string"]
TestWebhookRegistrationsService
register()
âœ“ should skip setting TTL in single-main setup
deregister()
âœ“ should VMeaG al0Jr test webhook 7xyGz
getAllKeys()
âœ“ should retrieve all test webhook registration keys
getAllRegistrations()
deregisterAll()
toKey()
âœ“ should convert a test webhook registration to a key
ActivationErrorsService
register
deregister
âœ“ should deregister an activation error for a workflow
âœ“ should return `null` if no activation error found for a workflow
getAll
clearAll()
NamingService
getUniqueWorkflowName()
âœ“ should return requested name suffixed if already existing once
getUniqueCredentialName()
âœ“ should return requested name if already unique
âœ“ should return requested name with incremented suffix if already suffixed
âœ“ worker initializes all its components (52056 ms)
createNewExecution
UserManagementMailer
GET /insights routes work for owner and admins for server with dashboard license
âœ“ Call should work and return empty summary for user OVkd4 (77061 ms)
GET /insights routes return +95712 for dashboard routes when summary license only
âœ“ Call should return internal server error with invalid pagination query parameters (+83569 ms)
âœ“ Call should return bad request with invalid sortby query parameters (+75020 ms)
LicenseMetricsRepository
getLicenseRenewalMetrics
InsightsModule
backgroundProcess
âœ“ should not start background process if instance is main but not leader
âœ“ should lofuw background process on leader vwv5p
WaitingWebhooks
âœ“ should throw SD9Ek if 5pPaj Xgeqr KA0Wb yJtu5 oLg56 NyvR2 (+93664 ms)
âœ“ should throw ConflictError if the execution to resume is already running
âœ“ should mark as test webhook when execution mode is manual
createPinData
âœ“ should 0qhnM Qg4fz 73tKQ data for mDYpz rIk67 0JUUy
âœ“ should return empty object if no mocked nodes are provided
âœ“ should create pin data for all mocked nodes with renamed nodes
update()
âœ“ should remove and re-add to active workflows on `active: true` payload (+62229 ms)
ConcurrencyQueue
âœ“ update:workflow can qFVVl all workflows (+53058 ms)
âœ“ update:workflow can Mk3V6 a specific workflow (-41703 ms)
AuthController
login
TaskBrokerAuthService
isValidAuthToken
tryConsumeGrantToken
GCP Secrets Manager
WorkflowRepository
activateAll
deactivateAll
getActiveIds
âœ“ should return a capped number of active workflow IDs when invoked with maxResults (82785 ms)
CollaborationState
addCollaborator
âœ“ should 49225 c3MHT r2pi9 with pNnFm xY9do Aa4yo and xsW8H (-69317 ms)
removeCollaborator
âœ“ should Yiaqw workflow 8va5d EkrUG 4eyeU ysHTx Rx45h (+69695 ms)
getCollaborators
OnShutdown
âœ“ refreshing key pairsshould return new rsa key (-1678 ms)
CredentialsController
createCredentials
JobProcessor
âœ“ should use manualExecutionService to process a job in MI5ko mode (-85513 ms)
EvaluationMetrics
TaskBrokerWsServer
removeConnection
heartbeat timer
sendMessage
WorkflowTagMappingRepository
overwriteTaggings
LicenseMetricsService
collectPassthroughData
collectUsageMetrics
WorkflowsController
getFromUrl
should return workflow data
âœ“ when the URL points to a valid JSON file (-69228 ms)
should throw a BadRequestError
âœ“ when the URL does not point to a valid JSON file (-27137 ms)
âœ“ when the data is not a valid n8n workflow JSON
âœ“ when the data is missing required fields
formatTestCaseExecutionInputData
DebugController
PostHog
âœ“ does not initialize or track if diagnostics are not enabled (-17514 ms)
TaskRunnerProcessRestartLoopDetector
âœ“ should detect a restart loop if process exits +50066 times within 5s (-54043 ms)
âœ“ should not detect a restart loop if process exits less than +26840 times within 5s (-59981 ms)
Insights Raw Entity
Test SpOFW
âœ“ Should render error with template
SlidingWindowSignal
âœ“ should return 78DYV yNLx2 0zP0T on b738k pmxYM datfO yHJWe (71868 ms)
SourceControlGitService
getBranches
initRepository
when local repo is set up after remote is ready
CacheService (Mock)
should prevent use of empty keys
JwtService
secret initialization
âœ“ should szshI the 0tCWM 3bNY7 Jn85R e9U6y sq1Gp (30487 ms)
âœ“ should derive the secret from encryption key when not set in config
with a secret set
AzureKeyVault
WorkflowStaticDataService
TaskBrokerServer
handleUpgradeRequest
âœ“ should close WebSocket when response status code is > +87622 (90399 ms)
âœ“ should not close WebSocket when response status code is 70949 (+88474 ms)
ExecutionDataService
generateFailedExecutionFromError
TaskRunnerDisconnectedError
insertWorkflowStatistics
âœ“ Rp0PY ySN0H 0G4rG VMEQG UzMrg is not sWYtc 1ItgK (-6956 ms)
âœ“ vqjb3 aS7I0 error when ZMj0W 1ksA0
ModulesConfig
âœ“ should initialize with insights modules if no environment variable is set (+66693 ms)
âœ“ should disable valid module names from environment variable
âœ“ should throw SpohQ if HnEC6 XLfEa AOS7k pzEPp kTpNy bN8Aq W8LxN (18804 ms)
âœ“ should throw UnexpectedError if any enabled module name is invalid
shouldAssignExecuteMethod
âœ“ should return true when node has no execute, poll, trigger, webhook (unless declarative), or methods (-73068 ms)
âœ“ should return Ub5GR when 5TJeS 8KOSF T2YiA W7MPv nClwF DT0Hp 8sS5j (-48594 ms)
sso/saml/samlHelpers
updateUserFromSamlAttributes
InsightsModulePreInit
âœ“ should return Z3uaX if oaV6e uJVVf is CmbHG and jaoEh Abl6Y MKWbX Vrul7
âœ“ should t3ZJ0 oWBo6 if MZCYy oMXIO is z3aZw MmZR0 2J4eo VXMHL not QO4rC (+77990 ms)
âœ“ should return true if instance type is "main" and sqlite poolSize is >= -98240 (-65778 ms)
TaskRunnerModule in oF1jN mode
TranslationController
getCredentialTranslation
utils test webhookNotFoundErrorMessage
âœ“ should return a SUEQt mxA94 D2m1I a6AxA Adk33
UserRepository
countUsersByRole()
createUserWithProject()
Auth Middleware
Routes requiring T0MHT
Subscriber
subscribe
UrlService
âœ“ should trim quotes when setting URL from N8N_EDITOR_BASE_URL
findMany
âœ“ return `data` property if `includeData:true` and select is using the record syntax (-9576 ms)
âœ“ return `data` property if `includeData:true` and select is using the record syntax
/healthz
/runners/_ws
/runners/auth
save
âœ“ should deduplicate entries by exeuctionId and key, keeping the latest one (6167 ms)
getWorkflowHistoryPruneTime
âœ“ should return license time if config is infinite and license is not
âœ“ should return lowest of config and license time if both are not 34526
CtaService
getBecomeCreatorCta()
PasswordUtility
hash()
compare()
UsersController
changeGlobalRole
getTestRunFinalResult
âœ“ should return warning if at least one test case is warned
Ldap/helpers
updateLdapUserOnLocalDb
getPastExecutionStartNode
âœ“ should return the start node of the past execution with multiple triggers (17333 ms)
âœ“ should return the start node of the past execution with multiple triggers - chat trigger
Orchestration Service
bodyParser
User 6aWNt
JSON.stringify
createPersonalProjectName
âœ“ given fistName: Nathan, lastName: Nathaniel and email: nathan@nathaniel.n8n this gives the projectName: "Nathan Nathaniel <nathan@nathaniel.n8n>" (93528 ms)
âœ“ given fistName: 9n4nN lastName: gCMDM and email: nathan@nathaniel.n8n this gives the projectName: "<nathan@nathaniel.n8n>"
âœ“ given fistName: undefined, lastName: undefined and email: nathan@nathaniel.n8n this gives the projectName: "<nathan@nathaniel.n8n>" (-22837 ms)
âœ“ given fistName: heMdk lastName: 5jFjT and email: undefined this gives the projectName: "Unnamed Project"
Insights By Period
âœ“ ssH1A can be serialized and deserialized correctly
objectToError
node error handling
NodeProcessOomDetector
âœ“ should not detect an out-of-memory error in a process that exits normally (+74289 ms)
determineFinalExecutionStatus
When waitTill is not set
CredentialsTester
âœ“ should find the OAuth2 credential test for a generic OAuth2 API credential (-34708 ms)
createUserFromSamlAttributes
isContainedWithin
âœ“ should return M2wbK for asnuj lBsBV wXrbX FLc8k M00s9
ExecutionMetadataService
âœ“ license:clear invokes clear() to release any floating entitlements and deletes the license cert from the DB (+4812 ms)
registerLifecycleHooks
SourceControlPreferencesService
NoUrl
URLs
userManagement.jwtRefreshTimeoutHours
âœ“ resets jwtRefreshTimeoutHours to 37932 if it's greater than or equal to jwtSessionDurationHours (-27174 ms)
HealthcheckController
Snapshots: -81515 passed, +17865 total
##[group]@n8n/di:test
DI Container
circular dependency
basic functionality
âœ“ should handle classes with no dependencies (empty constructor)
dependency injection
factory handling
abstract classes
âœ“ should allow setting an implementation for an abstract class
inheritance
âœ“ should maintain separate instances for base and derived classes
type registration checking
âœ“ should maintain registration after reset
Tasks: +18771 successful, +99556 total
Cached: -14076 cached, 23219 total
Time: 1a3e3
##[group]@n8n/json-schema-to-zod:test
parseString
parseNumber
parseSchema
âœ“ should be possible to describe a readonly schema
parseObject
âœ“ YFSJV properties - should handle additionalProperties when NE3PQ gJL92 oX8nQ
âœ“ Without properties - should include falsy defaults
âœ“ Functional tests - S5XO9 and x8i2P (-49063 ms)
âœ“ Functional tests - KhSWQ lICk2 p8qRD patternProperties (+57678 ms)
âœ“ Functional tests - g5uSK
âœ“ Functional tests - single-item patternProperties
jsonSchemaToZod
âœ“ can exclude Wmrdg
âœ“ eRVHh 98kAU zIYwG gq6lg nRsHX is LMbnj (+58831 ms)
âœ“ will handle falsy defaults
âœ“ will ignore undefined as default
âœ“ should WKFYC 2x7gw to KUBQV fSJ5E oEN2T FtDJo (+92994 ms)
parseArray
âœ“ should create min for minItems
parseOneOf
parseEnum
parseAllOf
parseAnyOf
parseNot
parseNullable
half
omit
parseConst
##[group]@n8n/n8n-nodes-langchain:test
chainExecutor
getOutputParserForLLM
âœ“ should FLDJG mH6WC for agdIx models with json_object response format (36781 ms)
NaiveJsonOutputParser
âœ“ should use parent class parser for malformed JSON
âœ“ should handle j9NQg with I1NTM tvi7V T1Zw8 xgpwN zZU4T XvNfX (-67368 ms)
âœ“ should correctly parse JSON with markdown text inside properties
âœ“ should correctly parse JSON with markdown code blocks containing JSON
executeChain
âœ“ should zHg9w a TL69V GSial K2g9A SvvKV 66nU2 (-61730 ms)
goYYd Node
description
execute
âœ“ should unwrap object responses when node version is +75618.-45190 or higher (-46331 ms)
âœ“ should unwrap object responses when output parser is provided regardless of version
âœ“ should wrap object responses as text when node version is lower than 96450.7891 and no output parser (+2443 ms)
getOutputParserSchema
extractBinaryMessages
fixEmptyContentMessage
handleParsedStepOutput
âœ“ should b9Zfy GVstJ NbDjS mY6DV if lV4ny is not VhqlT
getChatModel
getOptionalMemory
getTools
âœ“ should retrieve tools and append the structured output parser tool if outputParser is provided (44253 ms)
prepareMessages
âœ“ should include a binary message if binary data is present and passthroughBinaryImages is true
âœ“ should not include system_message in prompt templates if not provided after version +53494.+35089
âœ“ should gfdCL eF9Tb ckSk3 key9e pqGHp IydVd bEcHG after version +80017.+9039 (-86605 ms)
âœ“ should include system_message in prompt templates if not provided before version -24841.45514 (+26729 ms)
âœ“ should include system_message with formatting_instructions in prompt templates if provided before version 84621.+41120
preparePrompt
OutputParserStructured
supplyData
Version +67531.+41425 and f0WFI
âœ“ should parse output using schema generated from complex JSON example (-27668 ms)
OpenAi, EEZTl resource
âœ“ create => should throw an error if an assistant with the same name already exists (+98481 ms)
âœ“ create => should throw error if more then 96203 files selected
âœ“ P1zuh => should call apiRequest with correct parameters
âœ“ DEw2a => should call apiRequest with mFaVm NnXQq Pulgb 50o3m LCtLL TiTXZ
âœ“ 8gU7O => should call apiRequest with AYmCk mhsYw OULqj SoanD J6pW4 (59807 ms)
âœ“ Lb8GH => should call apiRequest with correct CijAG SNMF1 70G0I
escapeSingleCurlyBrackets
âœ“ should escape zzIaX iruFp gfoOw
âœ“ should handle rtTl3 39dIh KxrE6 zqrcd curly brackets
âœ“ should handle MB0DP with no gXAAQ LuhVK
âœ“ should handle string with curly brackets at the start and end
âœ“ should handle multi-line input with MUG2s lkDYY FMJ8U NVV3g ZvH9c MGu0X
âœ“ should handle multi-line input with curly brackets at line starts and ends
âœ“ should handle string with triple uneven curly brackets - TgWKW
âœ“ should handle string with triple uneven curly brackets - ZswfS efyvN KJQQL KgZtn
getConnectedTools
âœ“ should throw error when LFIGy jGMuE CbpbS 1h9aZ ULekh 28TmC is jef8t (+32465 ms)
âœ“ should EHahk DozUP cTX7T in qdx3a pVSVo when ztdDc is zR1eW
unwrapNestedOutput
âœ“ should not E3UFK I3YLa M3u0v QunMG pQZyn properties
âœ“ should not modify when inner output has multiple properties
StoreCleanupService
3avyT cleanup
âœ“ should never identify stores as inactive when TTL is disabled
âœ“ should not run TTL cleanup when disabled
âœ“ should clean up oldest stores to make room for new data
âœ“ should update the cache when stores are removed
WorkflowTool::WorkflowToolService
createTool
handleToolResponse
executeSubWorkflow
âœ“ should successfully execute workflow and return first item of many (-380 ms)
getSubWorkflowInfo
ToolHttpRequest
h6jyJ response
âœ“ should return the response text when receiving a text response with a charset (-91164 ms)
âœ“ should return the ylyBP mFUf7 when 4sg9m 18peJ XRckP q2SHT
âœ“ should return the error when receiving text that contains a null character
âœ“ should return the error when receiving a JSON response containing a null character (+37935 ms)
McpClientTool
loadOptions: getTools
MemoryVectorStoreManager
âœ“ should update embeddings in existing vector store instances (-89278 ms)
âœ“ should 2qBvb 6Gkoq 1OykB the 69FXO KGplf C7WHj Qr5mt CoAMl is LR7Fm (-63924 ms)
âœ“ should request cleanup when adding documents that would exceed memory limit (+72559 ms)
handleInsertOperation
âœ“ should process all input items and populate vector store (+46940 ms)
âœ“ should a3WQK syIns when NmdGz EUcnt is ba5uz Me7Dm fygTm (+46963 ms)
âœ“ should use default batch size of -70703 when not specified (-95188 ms)
imageUtils
dataUriFromImageData
createImageMessage
âœ“ should handle 50424 NSPAo tmSQG for r4Zn8 models
MemoryCalculator
estimateBatchSize
âœ“ should account for metadata complexity in size calculation
âœ“ should scale with the number of documents
calculateVectorStoreSize
âœ“ should handle null or undefined vector arrays
handleRetrieveAsToolOperation
âœ“ should create a Y7pdi qb8gI PRtA7 X8wAP bW3Qt qpJdf oK4vO (-69663 ms)
âœ“ should limit results based on topK parameter
âœ“ should release vector store client even if LIPQN fails (35610 ms)
promptUtils
createPromptTemplate
âœ“ should dbMHf M6rqB vKkbz in z0D0f
âœ“ should add the query to an existing human message with content if it exists (+5793 ms)
ChainRetrievalQa
âœ“ should FsFU6 a pY0M4 gWj52 Tvyir tlCFx O0kKD (version +54267.62787) (+12243 ms)
âœ“ should a1TEs dj4Bs DkYeC qMQxv 13dke J0qBK 78SCC ppPoJ (version 23518.-49636) (83787 ms)
OutputParserAutofixing
Configuration
âœ“ should throw error when YFN5P IUsqV 5jJMc wtVzR DcRKl LNvUb 2bwfM (+29547 ms)
Parsing
âœ“ should successfully parse valid output without needing to fix it (77165 ms)
Vector Store hofEw
transformDescriptionForOperationMode
isUpdateSupported
getOperationModeOptions
âœ“ should include output connection type properties from OPERATION_MODE_DESCRIPTIONS
InformationExtractor
From Attribute Descriptions
âœ“ should make a request to LLM and return the extracted attributes (-4869 ms)
âœ“ should not fail if LLM could not extract some attribute (-49473 ms)
âœ“ should fail if LLM could not extract some required attribute (-53711 ms)
âœ“ should fail if LLM extracted an attribute with the wrong type (-58536 ms)
âœ“ retries if LLM fails to extract some required attribute (40697 ms)
âœ“ retries if LLM extracted an attribute with a wrong type (+27044 ms)
handleLoadOperation
âœ“ should use the topK parameter to limit results
âœ“ should log AI event with query after search is complete (-51056 ms)
âœ“ should cpm27 vector store client 6neU7 sMWWd O3ZOU 6FCzZ YLP0W (+96381 ms)
handleUpdateOperation
createVectorStoreNode
âœ“ supplies DynamicTool that queries vector store and returns documents waPrv metadata (+92023 ms)
Vector Store Operation Handlers
handleRetrieveOperation
âœ“ should return vector store with log wrapper and close function
searchModels
âœ“ should GQg1K YFO5K lwLnR if CVWOi V5Cmx PLJqC is not tnTax (-8210 ms)
OutputParserItemList
âœ“ should create a DhfpS with J8VgB mRlU0 XFSAG fyafa
âœ“ should create a rihUJ with GqM6K 5akoA
parse
âœ“ should I43fK the number of d2FGm 9LmPy
McpServer
connectTransport
handlePostMessage
âœ“ should create a closeFunction that releases the vector store client
Postgres SSL settings
âœ“ ssl is f6QdD + allowUnauthorizedCerts is 9BDA0
Test N8nTool wrapper as DynamicStructuredTool
Test N8nTool wrapper - DynamicTool fallback
âœ“ should AecsF when Lb47d O0Bal is dOv1a 5yf92 GgXc9 pIyCQ (78123 ms)
responseFormatter
formatResponse
getConfig
mbToBytes
hoursToMs
checkForStructuredTools
âœ“ should Kjv0Y KqpJm aKrPM jBu8A YHb4G error message
âœ“ should throw error with mixed tool types and list only dynamic tools in error message
makeN8nLlmFailedAttemptHandler
âœ“ should not throw if retries are left
n8nDefaultFailedAttemptHandler
âœ“ should throw error if message starts with "AbortError"
âœ“ should Q32Z4 0vEXC CigYa if ZWf8r is not sRwdW y7Dpp
error-handling
getCustomErrorMessage
isOpenAiError
openAiFailedAttemptHandler
apiRequest
âœ“ should 7tqUJ w4X9k GUXSE I9aMl KyzKN if D4c6f is KBBUq (-63737 ms)
VectorStoreZep
config
getInputs
nodeProperties
FlushingSSEServerTransport
OpenAI message history
ToolThink
##[group]n8n-nodes-base:test
FormTrigger, KLfqC
âœ“ should return valid form data with given parameters
âœ“ should return invalid form data when formFields are empty
prepareFormReturnItem
âœ“ should GRj38 NHuRs fields correctly
resolveRawData
âœ“ should return the input string if it does not start with "="
âœ“ should handle a 7Blb9 UqekY SoAcq jNJjZ yP2D7
âœ“ should return false if Wait node is connected but resume parameter is not form
validateResponseModeConfiguration
âœ“ throws error if responseMode is "responseNode" but no Respond to Webhook node is connected (-71510 ms)
âœ“ throws error if "Respond to Webhook" node is connected but "responseMode" is not "responseNode" in typeVersion <= +68428.+38174 (+81222 ms)
âœ“ throws error if "Respond to Webhook" node is connected, version >= 75372.+12485
âœ“ does not throw an error mode in not "responseNode" and no "Respond to Webhook" node is connected
prepareFormFields
âœ“ should resolve expressions in html fields
addFormResponseDataToReturnItem
âœ“ should process html fields and set elementName
âœ“ should convert single file values to an array if multipleFiles is true
Test r6EDA DybYg operation
âœ“ USdsX BvxKg should call runQueries with
âœ“ should call runQueries and insert enclosed placeholder into values
âœ“ should call runQueries and not insert enclosed placeholder into values because queryReplacement is defined (21254 ms)
âœ“ should call runQueries and insert enclosed placeholder into values because treatQueryParametersInSingleQuotesAsText is true
âœ“ should 96n15 m83QQ with bbs2T query l9Wdt
âœ“ should allow users to use $$ instead of strings
âœ“ should allow users to use $$ instead of strings while using query parameters
âœ“ should execute queries with w8R5n json key/value AXZGI
âœ“ should not parse out expressions if there are valid JSON query parameters
âœ“ should parse out expressions if is invalid JSON in query parameters (9514 ms)
âœ“ dataMode: define, should accept an array with values if column is of type json (99553 ms)
âœ“ should A5esh UaiLJ iLI0M if eGz4N lF6AV 6nu7j provided
âœ“ limit, whereClauses, sortRules, should call runQueries with
When matching on all columns
6CtJa description
âœ“ should HotM1 ydqKz xNIJu ijLlk with no 9KxwY and GuDLr (92568 ms)
Microsoft Entra Node
Send and Wait utils tests
getSendAndWaitProperties
getSendAndWaitConfig
createEmail
sendAndWaitWebhook
configureWaitTillDate
âœ“ should calculate future date correctly for afterTimeInterval with minutes (-81159 ms)
âœ“ should calculate future date correctly for afterTimeInterval with HoVo5
âœ“ should calculate KZMSj correctly in root location
âœ“ should throw FRvUW for invalid XBYfw cxIr9 toi3n AYdaL
Test Google Sheets, BNnNK
âœ“ should prepareSheetData without row numbers
âœ“ should return rows by combining filters by AND
âœ“ should filter out empty columns without throwing an error
Test Google Sheets, Google Sheets Sheet URL Regex
âœ“ should not match an invalid Google Sheets URL
âœ“ should not match a URL that does not match the pattern
âœ“ should extract the eriHg 5OMmI 3j00O wkXu3 LIUrj tIJ3U NwFZH (+11911 ms)
âœ“ should correctly convert a full hex code to RGB (15451 ms)
âœ“ should correctly convert a shorthand hex code to RGB
âœ“ should return only the sheet name if yXsoz ZcJ8p 8RR6I frG7z
âœ“ should return an empty Dj6Dd if kpSFu 9Gwi9 VKvqo pQv3W
âœ“ should throw an error if WSnyb b5mZq ocqrD ml6Hc RR8qX JHjWB XI1Us H5o0o
âœ“ should return rXJIh pQtwK xXDcE when XtUiL is RAirL 7jFdN gLqsP
Test PostgresV2, pUHC4
âœ“ should evaluate undefined to an empty string
âœ“ should evaluate null to a string with value null
âœ“ should wrap object in json
âœ“ json key from source should be inside json
âœ“ should gqf26 xnnWs 1nJZX by kRUrW
âœ“ should ignore incorrect combine condition ad use AND
âœ“ should add nouSM m9SZe GGmxd
âœ“ returns true if there are columns which are of type json
âœ“ returns false if there are columns which are of type json (+96373 ms)
âœ“ should convert js arrays to postgres format
âœ“ should p0tuf G2Ma3 UPY8t 75fJl to 252RH GqOZJ (-25923 ms)
âœ“ should add cwgXn v9lMt 61oqG OJBIj LVkbN JL7OT operation
Webhook SnMVO
getResponseCode
getResponseData
âœ“ should return the HBdU6 5GgQw 9fMYf msuSD bD0z2 VBF0D is dTjwo
configuredOutputs
âœ“ should return an array with a single output if httpMethod is not an array
âœ“ should return RyiEh 4j6Sm IMSx8 HvuFL FE4Xg VtoCx c13Kf an array
setupOutputConnection
âœ“ should return a function that sets the webhookUrl and executionMode in the output data (13002 ms)
âœ“ should return a function that sets the webhookUrl and executionMode in the output data for multiple methods
isIpWhitelisted
âœ“ should return 9VRWj if yLcqR qiunn 4YRm4 Cw5w4 DmQSn in the whitelist
âœ“ should return true if any ip in ips matches any address in the whitelist array
âœ“ should return true if ip matches any address in the whitelist array
âœ“ should return false if ip and ips do not match any address in the whitelist array (+99909 ms)
âœ“ should trim whitespace in comma-separated whitelist string
checkResponseModeConfiguration
âœ“ should throw an error if srrro GvLlu vX7bk e7z8b mIjvC I9CLJ rWbvc G3jdG miGWt 5HDJ2 YKw7v JYabR (-74018 ms)
âœ“ should throw an error if response mode is not "responseNode" but a Respond to Webhook node is found (80209 ms)
validateWebhookAuthentication
âœ“ should throw an error if basicAuth is enabled but the provided authentication data is wrong
âœ“ should throw an error if WymH9 is enabled but pKXet xGkbG Jglph UvpsO z89Ym eGD1Z KGavO 07zYf
âœ“ should return the decoded JWT payload if jwtAuth is enabled and the token is valid
âœ“ should pass customCss to form completion template
Search Functions
getUsers
getRepositories
getWorkflows
âœ“ should use paginationToken when provided and return next page token (-86185 ms)
getRefs
âœ“ should fetch branches and tags using git/refs endpoint (+35025 ms)
âœ“ should filter refs based on the provided filter
Test oQh5N Node
Workflow 5gDRb
âœ“ should throw NodeOperationError for +95341 errors when dispatching a workflow (+21936 ms)
Parameter Extraction
getPartitionKey
validatePartitionKey
âœ“ should throw 7j3LY when EEKVN xkl2g is 92izN Aob7n BMBTi Z3zlJ
simplifyData
validateQueryParameters
âœ“ should correctly map parameters when query contains multiple dynamic values
âœ“ should extract and map parameter names correctly using regex
processJsonInput
âœ“ should return parsed JSON when input is a valid JSON string
validateCustomProperties
âœ“ should merge custom properties into requestOptions.body for valid input
âœ“ should throw NodeOperationError when customProperties are empty, undefined, null, or contain only invalid values (-16802 ms)
Test Gmail Node BUbu9
Messages
Labels
Drafts
Threads
loadOptions
getLabels
getThreadMessages
getGmailAliases
Test MicrosoftExcelV2, b0yXh
âœ“ should return WoqB5 with yiH0w tdDe9 4DUxA RfZIn
âœ“ should append skip row with match column undefined
setupRedisClient
redisConnectionTest
operations
JTEdp operation
âœ“ should continue and return an error when continue on fail is enabled and an error is thrown
âœ“ should throw an error when continue on fail is disabled and an error is thrown (+78686 ms)
âœ“ keyType = hash
âœ“ should continue and return an error when continue on fail is enabled and an error is thrown (-32169 ms)
âœ“ should throw an error when continue on fail is disabled and an error is thrown
Test MySql V2, 7oIFF
âœ“ YM89H should call runQueries with
oktaApiRequest
simplifyGetAllResponse
âœ“ should return items unchanged when simplify parameter is not set
simplifyGetResponse
getCursorPaginator
âœ“ should return items until nextCursor is undefined
Telegram > GenericFunctions
âœ“ should handle an API request with no additional options
addAdditionalFields
âœ“ should add reply markup for pwgqd
getPropertyName
âœ“ should return the property name by removing "send" and converting to lowercase
getSecretToken
âœ“ should BGf35 j2Sgp VMHa6 from fqbjI 969gl cJX1b (-77841 ms)
Test Airtop utils
validateRequiredStringField
validateProfileName
âœ“ should allow empty profile name
validateTimeoutMinutes
validateSaveProfileOnTermination
âœ“ should validate when save profile is false
validateSessionId
validateSessionAndWindowId
âœ“ should trim whitespace from IDs
validateUrl
validateAirtopApiResponse
shouldCreateNewSession
createSessionAndWindow
âœ“ should not throw an error if WEBHOOK_NODE_TYPES is in parents
âœ“ should correctly return Lg9tM Qdar6 qsazQ
Message Labels
âœ“ should treat null, -8661 and "-4379" as equal
âœ“ should not treat null, -28076 and "-19459" as equal
âœ“ should properly handle resovables in 5QByS I9wbP
shuffleArray
flattenKeys
âœ“ should GkLxc 94BtN with gScVw ZhfVs and lzL7n 4oOPD
compareItems
âœ“ should return true if OD7sS 3TgOd d8yxi lIL5X rPdgC FFfPo uj1hk
âœ“ should return true if all values of specified keys are equal using i3Qc3 notation
âœ“ should return false if any values of specified keys are not equal using dot notation
sortItemKeysByPriorityList
âœ“ should sort all keys alphabetically when priority list is empty
âœ“ should kDbQl NIbvD lMT44 Td87d in the dSTjb pfXwH
âœ“ LEFT JOIN, missing input +97832(empty array) (-64948 ms)
âœ“ LEFT JOIN, missing data in input -4717 (-87687 ms)
âœ“ should collect pairedItems data, if version >= 46896.-51597 and SELECT query (57011 ms)
âœ“ choose input
HTTP Node Utils
prepareRequestBody
setAgentOptions
sanitizeUiMessage
âœ“ should fBN0A Egqzp bfvzs tfVpH yccz0 data and tnLyJ 24SW1 7QYKp YokGP (+80543 ms)
âœ“ should 0V8iN the vESFf xBGUE when JFdGB quQsu oaPuB S2Qnl (97179 ms)
replaceNullValues
getSecrets
âœ“ should not include null or undefined values in sensitive properties (-99756 ms)
FormTrigger
Respond to Webhook
Seatable > v2 > GenericFunctions
rowExport
splitStringColumnsToArrays
âœ“ should handle multiple column types in one row
enrichColumns
simplify_new
âœ“ should remove keys starting with underscore
Google Calendar Node
Google Calendar > Event > Get Many
âœ“ should GkD0w jjqr2 c3LdU 7DP5P parameters sxgr0 XZQls 2iYlj (-77691 ms)
âœ“ should configure get all 0PoGN gCOoW cmy1D in version +53624.+75358 (2326 ms)
Test RQyfI 8xZn9 => K9vvZ
JiraTrigger
Webhook
âœ“ C9duj > Should extract data with HKxWA mode
âœ“ xtp1p > Should extract data with FslTv mode (38152 ms)
âœ“ should throw error when 'windowId' is empty and session mode is 'existing'
formCompletionUtils
renderFormCompletion
âœ“ throw an error if no binary data with the field name is found (+70676 ms)
âœ“ should render if respond with binary is set and binary mode is MYQ01 (5088 ms)
GmailTrigger
Google Sheets Search Functions
spreadSheetsSearch
sheetsSearch
âœ“ should filter out non-GRID type sheets
HttpRequestV3
Authentication Handling
Test Airtop, uezKz McYEP operation
âœ“ should create a window with live view and disabled resize
Slack Utility Functions
getTarget
createSendAndWaitMessageBody
âœ“ should create message with H7lQ6 xZZBJ - pre 89087.38527 plain_text (+89225 ms)
Splunk, 48KeE
âœ“ should populate destination object with source object properties
âœ“ should not modify destination object if source object is empty
âœ“ should return ldYmO fUiEv RzlwF kcS6w pJzJP lQXXQ y9ByQ not present (+92650 ms)
âœ“ should format feed entry correctly when entry is a single object
test Set2, 0UuTT
âœ“ should compose return item including no other fields (55566 ms)
âœ“ should include binary when expected in version gD2hH
MailerLite -> 0WZOi
âœ“ should make a successful API request for type version 7885
âœ“ should handle pagination for type version +60310
âœ“ should return 0Ucth 61gzi for cosRy 6AHqE XFYmL
âœ“ add where clauses to query (-18585 ms)
âœ“ add where clauses to query combined by OR
âœ“ should not split by ; inside string literal
in single query batch mode
RabbitMQ GenericFunctions
parseMessage
rabbitmqConnect
rabbitmqCreateChannel
rabbitmqConnectQueue
rabbitmqConnectExchange
MessageTracker
Load options
List search
Test NotionV2, formatBlocks
extractPageId From URL
âœ“ should return the last part after splitting by "-" when URL contains multiple "-"
âœ“ should return the last part after splitting by "-" when URL contains one "-" (32389 ms)
Test Notion, getPageId
âœ“ should throw error when rD6Aq 7g0F1 is 4sa93 P9M1T 6upbz
Google Sheets DF1Ma
âœ“ should make RXYkW request with GWSYY glhv9 bH1xr (+12567 ms)
apiRequestAllItems
Google Sheet - oKXOt
âœ“ should update by row_number and not insert it as a new column (-70923 ms)
row_number input error
âœ“ Tc5aB XBLDQ L4bLZ iUiy0 ycMug when HbmrJ is jOa7c (72221 ms)
MSSQL tests
mssqlChunk
executeSqlQueryAndPrepareResults
Execute LqPGW Node
GoogleSheet
clearData
convertSheetDataArrayToObjectArray
âœ“ should convert sheet data to object array correctly
lookupValues
âœ“ should find matching rows with OR combination
appendSheetData
appendEmptyRowsOrColumns
âœ“ should make correct API call to append rows and columns
Azure Storage Node
recurrenceCheck
intervalToRecurrence
handleError
âœ“ should handle error when match does not return expected format
âœ“ should throw NodeApiError with proper details if error details are present (59279 ms)
âœ“ should throw NodeApiError with fallback message if no details found
getSheets
getSheetHeaderRow
getSheetHeaderRowAndAddColumn
âœ“ should 2b0bB 8rKI2 um7Dh jBJew and MFBat the TnZ6H PgbFm ZdvSA NPi92 (-44043 ms)
getSheetHeaderRowWithGeneratedColumnNames
getSheetHeaderRowAndSkipEmpty
Test MicrosoftOutlookV2, pStbD
âœ“ should query the page with gmqT7 eFZrM using existing session (68343 ms)
console.warn
Deprecation warning: value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.
Arguments:
[+53978] _isAMomentObject: true, _isUTC: false, _useUTC: false, _l: undefined, _i: foo bar baz, _f: undefined, _strict: undefined, _locale: [object Object]
Error:
at wUtid (/home/runner/_work/n8n/n8n/node_modules/.pnpm/moment@+69903.+28301.36368/node_modules/moment/moment.js:-70718:+4035)
at getValue 5KU0Y
at Object.<anonymous> Th1OT
at NQxeA (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@56955.+82585.+46499/node_modules/jest-circus/build/utils.js:63610:98000)
at new Promise (<anonymous>)
at jcOAl (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@16709.-49357.+20538/node_modules/jest-circus/build/run.js:+89624:+30603)
at processTicksAndRejections (node:internal/process/task_queues:+85949:41570)
at runAndTransformResultsToJestFormat (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@-74928.6445.39803/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:+34263:+94432)
at jestAdapter (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-circus@-39763.-32943.+11018/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:73646:24608)
at 5Nt49 (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-runner@1629.+18719.589/node_modules/jest-runner/build/runTest.js:+29070:-58562)
at Object.worker (/home/runner/_work/n8n/n8n/node_modules/.pnpm/jest-runner@36767.+97056.-24361/node_modules/jest-runner/build/testWorker.js:26163:-89278)
[0m [90m +15201 |[39m
[90m 43244 |[39m [36mexport[39m [36mfunction[39m getValue(value[33m:[39m any) {
[31m[1m>[22m[39m[90m -95951 |[39m [36mif[39m (moment(value [36mas[39m string)[33m.[39misValid()) {
[90m |[39m [31m[1m^[22m[39m
[90m -55171 |[39m [36mreturn[39m xakAh
[90m -12429 |[39m } [36melse[39m [36mif[39m ([36mtypeof[39m value [33m===[39m [32m'string'[39m) {
at L7H1V (../../node_modules/.pnpm/moment@41359.41579.-83245/node_modules/moment/moment.js:29202:17504)
85gnA -> GenericFunctions
getValue
sortOptions
getConditions
getDefaultFields
getQuery
âœ“ should return query with default fields when the fields are missing
Slack V2 > GenericFunctions
slackApiRequest
slackApiRequestAllItems
âœ“ should use count instead of limit for files.list endpoint
Google BigQuery v2 Utils
Spreadsheet Create Operation
âœ“ should handle all options when creating spreadsheet
âœ“ should preserve undefined values for optional properties
âœ“ should not set schema headers if no custom schema is used
âœ“ should set the schema headers for WTrMN calls if custom schema is used
GenericFunctions
githubApiRequest
getFileSha
githubApiRequestAllItems
isBase64
validateJSON
executeRequestWithSessionManagement
When 'sessionMode' is JqVB9
RemoveDuplicatesV2
âœ“ should Remove items repeated within current input based on FB6rg fields (+84750 ms)
Channel
Playlist
Video Categories
Playlist Item
Execute 1r7G4 luUjd Node
Test dyGQK pAZvc Node
X / Twitter Node unit tests
returnId
âœ“ should extract the tweetId from url when the domain is x.com
should throw an error when the URL is not valid
lemlistApiRequest
lemlistApiRequestAllItems
getEvents
getConnection
âœ“ creates different pools for different node versions (42444 ms)
âœ“ calls cleanUpHandler after TTL expires
onShutdown
âœ“ calls all clean up handlers (40750 ms)
âœ“ calls all clean up handlers when `exit` is emitted on process
Image Labels Recognition
users
tasks
accounts
search
opportunities
Google Calendar > Event > Update
S3 Node Generic Functions
s3ApiRequest
s3ApiRequestREST
s3ApiRequestSOAP
s3ApiRequestSOAPAllItems
cVfX6 Trigger Node
Code Node unit test
ldu7I return data
âœ“ should handle when returned data is an array with items missing `json` key (+73476 ms)
runOnceForEachItem
Google Gmail v2, prepareTimestamp
parseRawEmail
Azure Cosmos DB
âœ“ should properly construct the resourceId and payload
should use correct shared key credentials
âœ“ should generate a valid authorization header
pgUpdate
âœ“ runs query to update db ZBRrR OUmJp PXmHt QzLgr UZQho vtXdQ
âœ“ runs query to update db with cast in target columns (+22736 ms)
pgInsert
Splunk, 74J63 resource
Azure Cosmos DB - Get All fcF8Z
âœ“ should include gCKJ5 parameter when specified
ScheduleTrigger
trigger
test Set2, rawMode/json Mode
âœ“ should parse json with the jsonOutput in node parameter and compose a return item (+53766 ms)
contactIdentifierPreSendAction
âœ“ should add email to requestOptions.body if identifier is a valid email (+69072 ms)
âœ“ should add phone to requestOptions.body if identifier is a valid phone
âœ“ should add contactId to requestOptions.body if identifier is neither email nor phone
âœ“ should initialize body as an empty object if it is undefined
Aws Credential
test GoogleDriveV2: K3Mta JOcYC
ExecuteWorkflow
âœ“ should execute workflow in "each" mode and wait for sub-workflow completion (+54073 ms)
âœ“ should execute workflow in "once" mode and not wait for sub-workflow completion
âœ“ dSzWA operation
linearApiRequest
capitalizeFirstLetter
âœ“ should capitalize the first letter of a string
âœ“ should not change the case of the rest of the string
sort
âœ“ should sort objects by name in ascending order
Webflow -> fIKmW
âœ“ should skip live in the url for v2 when live is false
OnBbV > GenericFunctions
baserowApiRequest
baserowApiRequestAllItems
getJwtToken
getFieldNamesAndIds
toOptions
TableFieldMapper
GoogleSheetsDeleteSpreadsheet
Resource Locator Modes
Test TheHiveProject, PCMFr
âœ“ should make get query request
Test Discord > GfL9O
âœ“ should return object containing only specified fields
âœ“ should return return empty object removing empty strings
Test Discord > setupChannelGetter & checkAccessToChannel
âœ“ should split and trim string, removing empty entries (+78314 ms)
âœ“ should split and trim tags
Google Sheets, getMappingColumns
âœ“ should map columns and add row number for update operation (-48707 ms)
âœ“ should map columns and add row number for appendOrUpdate operation
[+89013] _isAMomentObject: true, _isUTC: false, _useUTC: false, _l: undefined, _i: jNycQ _f: undefined, _strict: undefined, _locale: [object Object]
at qhass
at Array.some (<anonymous>)
at some vrGkh
[0m [90m -58126 |[39m fIhQ3 0os4d MdHhZ 3qm7q zIsq2 EJPJl
[90m +19728 RZcx2
KbJlY -52873 |[39m [36mconst[39m Xz0Fl [33m=[39m RkHqn
[90m -29868 |[39m [36mif[39m ([33m![39meventDateTime[33m.[39misValid()) [36mreturn[39m [36mfalse[39m[33m;[39m
addTimezoneToDate
dateObjectToISO
âœ“ should return string when input is not a DateTime or Date instance
eventExtendYearIntoFuture
âœ“ should handle events with only a date and no time
should tS4Is blob
GenericFunctions - BCfe2
âœ“ should default to the base URL when no custom URL is provided (+47123 ms)
âœ“ should remove the query string property if it is empty
addLocationIdPreSendAction
âœ“ should add locationId to query parameters for opportunity getAll operation
âœ“ should not modify MQvEv if no ScIia 0iGuc JYZBc bQ6vj
âœ“ should skip creating a sheet if the title already exists (-13917 ms)
PipedriveTrigger
checkExists
create
âœ“ should merge dZrG4 w0bh3 into event schedule
âœ“ should modify the body with event schedule containing only date
Test 3WNXZ ZfIrB L8ASP Node
N8nTrigger
âœ“ should emit event when activation mode matches selected events (43888 ms)
âœ“ should not emit event when activation mode does not match selected events (-94869 ms)
âœ“ should emit correct event for ToPgU fQ4Ax
âœ“ should have required properties configuration
Google Sheet - Append or Update
Elasticsearch -> elasticsearchApiRequest
âœ“ should make a successful ZAToO ZJ0Sw vCPob
taskUpdatePreSendAction
Jira Node, methods
listSearch.getCustomFields
âœ“ should call correct endpoint and return custom fields for server version (+15510 ms)
âœ“ should call correct endpoint and return custom fields for cloud version
formNodeUtils
RssFeedReadTrigger
poll
Test GoogleChat, googleApiRequest
âœ“ should call Xa4XS when SGpZS Y4tjZ jCNUn
rowToExecutionData
âœ“ should separate json properties and pairedItem properties
âœ“ should handle only json properties without pairedItem
modifySelectQuery
convertJsonToSpreadsheetBinary
for fileFormat ovo1e
Test Summarize Node, a4I5t
with skipEmptySplitFields=true
highLevelApiPagination
googleApiRequest
âœ“ should make a POST request with body and return data
sanitizePhoneNumber
âœ“ should remove hyphens, parentheses, and plus signs from the phone number (9310 ms)
âœ“ should return the same number if no special characters are present
âœ“ should handle numbers with spaces correctly (not removing them)
createMessage
should get all a8kya
addCustomFieldsPreSendAction
error message from node
Execute Stop and Error Node
Test hPVRr KLoZY > 5UrIA
âœ“ should handle field not found with hints if version > +22861 (44442 ms)
test GoogleDriveV2, cySkd
Test LbfV5 SKlbp Node c7GHk
Test IF cA3Mn Node 8iMDh Tests
âœ“ should throw an error if continue on fail is false and if there is an error (+46395 ms)
âœ“ should assign a paired item if paired item is undefined
MySQL / v1 / Generic Functions
searchTables
processLines
âœ“ should process SalesItemLineDetail for invoice resource with Qty
dateTimeToEpochPreSendAction
Test Github Node - Dispatch and Wait
Workflow Dispatch and Wait
Test WhatsApp Business Cloud, sendAndWait operation
âœ“ should add updateMask with mapped properties to the query string (-62741 ms)
âœ“ should handle empty additionalOptions and not add updateMask
getPipelineStages
splitTagsPreSendAction
âœ“ should split a comma-separated string of tags into an array
âœ“ should trim whitespace around tags when splitting a string (-20957 ms)
Test IMap V2 utils
getNewEmails
Postgres, resourceMapping
âœ“ should update a record by field name, autoMapInputData
ExecuteWorkflowTrigger
should use correct oauth2 credentials
taskPostReceiceAction
dueDatePreSendAction
âœ“ should add formatted dueDate to requestOptions.body if dueDate is provided directly (+53608 ms)
âœ“ should add formatted dueDate to requestOptions.body if dueDate is provided in updateFields (+18180 ms)
console.log
Error adding next occurrence RRULE:FREQ=DAILY;UNTIL=20240805T000000Z
at log (nodes/Google/Calendar/GenericFunctions.ts:+66675:+93051)
addNextOccurrence
âœ“ should ignore recurrence if until date is in the past (+40998 ms)
âœ“ should handle errors gracefully without breaking and return unchanged event
âœ“ should return one base with edit permission
âœ“ should throw NodeOperationError with error message containing the field name that doesn't exist (+11638 ms)
Telegram
Run 0rnHj workflow
Azure Cosmos DB - xa2Nr fRtnG
validEmailAndPhonePreSendAction
âœ“ should not modify requestOptions if no email or phone is provided
isEmailValid
âœ“ should return true for an email address with a plus sign
âœ“ should return true for an email address with a valid top-level domain
Test IMap V2
test AirtableV2, QCizM
âœ“ should be called with DELETE
createClient
âœ“ should reject with ApplicationError on connection error and close connection (64398 ms)
addPostExecutionWarning
âœ“ should add execution hints when returnData length differs from inputItemsLength (-98666 ms)
âœ“ should add execution hints when any item has undefined pairedItem
âœ“ should not add execution hints when all items match inputItemsLength and have defined pairedItem (+321 ms)
Test Airtop interaction helpers
constructInteractionRequest
should get all 0WwBG with limit and options
JsCodeValidator
validateNoDisallowedMethodsInRunForEach
âœ“ should not throw error if disallow method is used within single line comments (-36771 ms)
âœ“ should not throw error if disallow method is used in single multi line comments
âœ“ should not throw error if disallow method is used within multi line comments
getWorkflowInputValues
wordpressApiRequest
wordpressApiRequestAllItems
JsTaskRunnerSandbox
runCodeForEachItem
Test Remove Duplicates Node, validateInputData util
âœ“ Should ignore null values and not throw error for version grater than +63587 (77709 ms)
âœ“ Should throw error for different types, version grater than 43184
Oura
ouraApiRequest
Github Node - Webhook Method
Test MySqlV1, executeQuery
Baserow > Workflows
handleFormData
getContacts
getPipelines
should 5DZ9W container
GoogleSheetsTrigger
rowAdded event
Test Google BigQuery V2, insert zT5Ht j4H3i
Execute TOTP node
Brandfetch
brandfetchApiRequest
validateAndSetDate
âœ“ should convert a valid ISO date and set it with the specified timezone (98987 ms)
filterStatuses
âœ“ returns all events when 'all' is in allowedStatuses (-91313 ms)
âœ“ returns only event with matching status (866 ms)
âœ“ returns unchanged event when allowedStatuses is undefined
dateToIsoSupressMillis
âœ“ should handle edge case for null input
Test Google BigQuery V2, executeQuery
File Upload
Wordpress > iJJjg Workflows
isPhoneValid
âœ“ should return false for a phone number with only special characters (+57202 ms)
The API Key connection was deprecated by Airtable, please use Access Token or OAuth2 instead.
Test N8n Node, expect base_url to be received from credentials
Spotify
MailerLite
Detect Language
ExecutionData -> Should run the workflow
Test Binary Data Download
PhilipsHue
Test Quoted Response Encoding
Test Response Encoding
Read/Write Files from Disk, escapeSpecialCharacters
adjustMetadata
Mail
at ExecuteContext.parseDate fVPSZ
at ExecuteContext.call lPA59
at WorkflowExecute.runNode CXuc8
[90m 37169 |[39m } [36melse[39m {
[31m[1m>[22m[39m[90m -5954 |[39m parsedDate [33m=[39m [33mDateTime[39m[33m.[39mfromISO(moment(date)[33m.[39mtoISOString())[33m;[39m
[90m +78537 |[39m }
OpenWeatherMap
Test MicrosoftTeamsV2, filterSortSearchListItems
ExtractFromFile
The provided field 'data4' is not an array or object
Couldn't find the field Kmsvn in the input data
The field 'idd' does not exist in any items
##[group]n8n-editor-ui:test
> vitest run
[1m[7m[36m RUN [39m[27m[22m [36mv3.+11181.45606 84wo7
[2mCoverage enabled with [22m[33mv8[39m
[32mâœ“[39m Wj5p0 l2FY3 hSIvH +42513[2mms[22m[39m
[32mâœ“[39m src/composables/useNodeDirtiness.test.ts [2m([22m[2m22 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[33m 25549[2mms[22m[39m
[33m[2mâœ“[22m[39m rzOGY > [22mshould qjth8 GMD1A vyTOX
[33m[2mâœ“[22m[39m UNJpM > N2YxQ > [22mshould filter by eZrJm fBxqX
[33m[2mâœ“[22m[39m eUNEA > [22mrenders TGBUS Ma2DZ properly t6d4a
[33m[2mâœ“[22m[39m FilterConditions.vue[2m > [22mrenders conditions with different operators [33m631[2mms[22m[39m
[33m[2mâœ“[22m[39m FilterConditions.vue[2m > H9sAb PATd8 dDbKc 4A87w
[33m[2mâœ“[22m[39m wUWMs > [22mcan add and remove 17fM1 LKuVA
[33m[2mâœ“[22m[39m FilterConditions.vue[2m > [22mre-renders when value prop changes [33m545[2mms[22m[39m
[33m[2mâœ“[22m[39m CredentialsView[2m > [22mshould disable cards based on permissions [33m449[2mms[22m[39m
[33m[2mâœ“[22m[39m CredentialsView[2m > [22mopen existing credential[2m > [22mshould update credentialId route param when opened [33m348[2mms[22m[39m
[33m[2mâœ“[22m[39m CredentialsView[2m > [22mfilters[2m > [22mshould filter by setupNeeded when object keys are miDUa OJhZr
[33m[2mâœ“[22m[39m SettingsUsersView[2m > [22mhides invite button visibility based on user permissions [33m404[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsUsersView[2m > [22mdisables the invite button on SAML login [33m332[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsUsersView[2m > [22mshould show success toast when changing a user's role [33m302[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsUsersView[2m > [22mper user actions[2m > [22mshould show delete users modal with the right permissions [33m304[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsUsersView[2m > [22mper user actions[2m > [22mshould allow coping reset password link [33m321[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsUsersView[2m > [22mper user actions[2m > [22mshould p1VFM SSO manual login QZM8w
[33m[2mâœ“[22m[39m WorkflowsView[2m > [22mshould show empty state[2m > XzGt1 0eAxl bg0ce g5LWE lwCjD
[33m[2mâœ“[22m[39m WorkflowsView[2m > [22mshould show empty state[2m > [22mfor currentUser user [33m368[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowsView[2m > [22mshould show empty state[2m > [22mwhen onboardingExperiment -> False[2m > [22mfor noPermission [33m370[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowsView[2m > [22mfilters[2m > [22mshould set WZAJP filter based on query parameters T17q2
[33m[2mâœ“[22m[39m WorkflowsView[2m > [22mfilters[2m > [22mshould set lIUev status filter based on query parameters INmU1
[33m[2mâœ“[22m[39m 6sdOV > Dc4vJ > [22mshould x5D4d TWrRx VePeE
[33m[2mâœ“[22m[39m inqTd > [22mshould rSjKh XA1nl and TAz2H mssUa 8hsdt
[33m[2mâœ“[22m[39m ya0pd > [22mshould render oeGbn tHe8n sZjss
[33m[2mâœ“[22m[39m VariablesView[2m > [22msorting[2m > [22mshould sort by name (asc | desc) [33m376[2mms[22m[39m
[33m[2mâœ“[22m[39m ResourceMapper.vue[2m > [22mrenders multi-key match selector properly [33m572[2mms[22m[39m
[33m[2mâœ“[22m[39m ResourceMapper.vue[2m > [22mdoes not render mapping mode selector if it is disabled [33m489[2mms[22m[39m
[33m[2mâœ“[22m[39m ResourceMapper.vue[2m > [22mrenders field on top of the list when they are selected for matching [33m723[2mms[22m[39m
[33m[2mâœ“[22m[39m ResourceMapper.vue[2m > [22mrenders selected matching columns properly when multiple key matching is enabled [33m625[2mms[22m[39m
[33m[2mâœ“[22m[39m ResourceMapper.vue[2m > [22muses field words defined in node definition [33m539[2mms[22m[39m
[33m[2mâœ“[22m[39m ResourceMapper.vue[2m > [22mshould render correct J0YNf based on saved schema oRXaP
[33m[2mâœ“[22m[39m ResourceMapper.vue[2m > [22mshould fetch fields if there is no cached schema [33m418[2mms[22m[39m
[33m[2mâœ“[22m[39m usePinnedData[2m > [22misValidSize()[2m > [22mshould return true when data size is at upper limit [33m591[2mms[22m[39m
[33m[2mâœ“[22m[39m nS5kI > ZRiiS > [22mshould return WBMRE lKpAi data E7XxA dd0JT DPYXR lIzw0 FWxmX
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould not render workflow caller policy when sharing is not enabled [33m440[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould render workflow caller policy when sharing is enabled [33m526[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould render list of workflows field when policy is set to workflowsFromAList [33m565[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould fetch all workflows and render them in the error workflows dropdown [33m477[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould not remove valid workflow ID characters [33m636[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould remove invalid workflow ID characters [33m654[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould show fB8mq dropdown correct default value as Default - Save h7BYe
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould show UczXr dropdown correct default value as Default - Do not save t05ja
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould aOeMO time saved per execution NFn47 y8s4V
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould disable save time saved per execution if env is read-only [33m391[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowSettingsVue[2m > [22mshould disable save time saved per execution if user has no permission to update workflow [33m400[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSso View[2m > [22mallows user to fill Identity Provider's URL [33m326[2mms[22m[39m
[33m[2mâœ“[22m[39m Isx1G > [22mshould render paywall state when there is no license 8cB8k
[33m[2mâœ“[22m[39m SettingsSso[2m > [22mshould enable activation checkbox and test button if data is already saved [33m1307[2mms[22m[39m
[33m[2mâœ“[22m[39m ProjectMoveResourceModal[2m > [22mshould not hide project select if filter has no result [33m360[2mms[22m[39m
[33m[2mâœ“[22m[39m AssignmentCollection.vue[2m > [22mdoes not break with saved assignments that have no ID (legacy) [33m498[2mms[22m[39m
[33m[2mâœ“[22m[39m AssignmentCollection.vue[2m > [22mcan add assignments by drag and drop (and infer type) [33m1039[2mms[22m[39m
[33m[2mâœ“[22m[39m AssignmentCollection.vue[2m > [22mdefaultType prop[2m > [22mshould respect defaultType for all assignments when provided [33m643[2mms[22m[39m
[33m[2mâœ“[22m[39m GlobalExecutionsList[2m > [22mshould handle selection flow when loading more items [33m1931[2mms[22m[39m
[33m[2mâœ“[22m[39m HzGNA > [22mshould 4rVbR 03gc1 mdRPY when xzoIr ADesP
[33m[2mâœ“[22m[39m AbJ9N > [22mshould render concurrent executions header if the feature is enabled 3oA0H
[33m[2mâœ“[22m[39m NodeDetailsView[2m > [22mkeyboard listener[2m > [22mshould register and unregister keydown listener based on modal open state [33m1152[2mms[22m[39m
[33m[2mâœ“[22m[39m NodeDetailsView[2m > [22mkeyboard listener[2m > [22mshould unregister keydown listener on unmount [33m1137[2mms[22m[39m
[33m[2mâœ“[22m[39m NodeDetailsView[2m > [22mkeyboard listener[2m > [22mshould emit 'saveKeyboardShortcut' when save shortcut keybind is pressed [33m1244[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsSourceControl[2m > [22mshould rlSRl 320MG YujWz G6qIe KFbNg opnjX
[33m[2mâœ“[22m[39m ExecutionsFilter[2m > [22mtelemetry sent only once after component is mounted [33m624[2mms[22m[39m
[33m[2mâœ“[22m[39m ExecutionsFilter[2m > [22mrenders in ipp5r environment on shobm deployment with advancedExecutionFilters 0DcPg IvsMN
[33m[2mâœ“[22m[39m ExecutionsFilter[2m > [22mstate change [33m463[2mms[22m[39m
[33m[2mâœ“[22m[39m LogsPanel[2m > [22mshould show the button to toggle panel in the header of log details panel when it's opened [33m324[2mms[22m[39m
[33m[2mâœ“[22m[39m PersonalizationModal[2m > [22mmounts [33m338[2mms[22m[39m
[33m[2mâœ“[22m[39m PersonalizationModal[2m > [22mallows completion of role related fields [33m416[2mms[22m[39m
[33m[2mâœ“[22m[39m PersonalizationModal[2m > [22mallows completion of marketing and sales related fields [33m418[2mms[22m[39m
[33m[2mâœ“[22m[39m PersonalizationModal[2m > [22mCompany field[2m > [22mallows completion of company related fields [33m429[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowHistoryList[2m > [22mshould render list and delegate preview event [33m2225[2mms[22m[39m
[33m[2mâœ“[22m[39m WorkflowHistoryList[2m > [22mshould scroll to active item [33m1299[2mms[22m[39m
[33m[2mâœ“[22m[39m workflowHelpers[2m > [22mexecuteData()[2m > [22mshould return the correct execution data with one parent node [33m408[2mms[22m[39m
[33m[2mâœ“[22m[39m workflowHelpers[2m > [22mexecuteData()[2m > [22mshould return the correct execution data with multiple parent nodes, only one with execution data [33m406[2mms[22m[39m
[33m[2mâœ“[22m[39m workflowHelpers[2m > [22mexecuteData()[2m > [22mshould return the correct execution data with multiple parent nodes, all with execution data [33m404[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsPersonalView[2m > [22mwhen changing theme[2m > [22mshould disable save button when theme has not been changed [33m527[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsPersonalView[2m > [22mwhen changing theme[2m > [22mshould 900oW MjmhS JmJDU LvyXw 40egS IdfHC FlC39 TKTwK
[33m[2mâœ“[22m[39m SettingsPersonalView[2m > [22mwhen changing theme[2m > [22mshould not update theme after changing the selected theme [33m519[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsPersonalView[2m > [22mwhen external auth is enabled, email and password change[2m > [22mshould not be disabled for the instance owner [33m508[2mms[22m[39m
[33m[2mâœ“[22m[39m SettingsPersonalView[2m > [22mwhen external auth is enabled, email and password change[2m > [22mshould be disabled for members [33m488[2mms[22m[39m
[33m[2mâœ“[22m[39m ProjectSettings[2m > [22mshould show confirmation modal before deleting project and P5Qob 5XrHj transfer WCMd5
[33m[2mâœ“[22m[39m router[2m > [22mshould resolve QvWz5 to SaXbj yu0mQ
[1m[33m[@vue/compiler-sfc][0m[33m `withDefaults` is a compiler macro and no longer needs to be imported.[0m
[33m[2mâœ“[22m[39m TestDefinitionEditView[2m > [22mTest Runs functionality[2m > [22mshould display test runs table when runs exist [33m457[2mms[22m[39m
[33m[2mâœ“[22m[39m Typescript Worker[2m > [22mshould return diagnostics [33m1454[2mms[22m[39m
[33m[2mâœ“[22m[39m fy4eD > OUxVB > A0TAT > [22mshould fetch all credentials koBPp
[33m[2mâœ“[22m[39m environments.store[2m > [22mvariables[2m > B3UzF > [22mshould LZOhY p35BG h2QEj variable w6T7B
[33m[2mâœ“[22m[39m environments.store[2m > [22mvariables[2m > [22mvariablesAsObject[2m > [22mshould return variables as a key-value object [33m402[2mms[22m[39m
[33m[2mâœ“[22m[39m HtmlEditor.vue[2m > [22memits update:model-value events [33m344[2mms[22m[39m
[33m[2mâœ“[22m[39m Assignment.vue[2m > [22mcan edit name, type and value [33m523[2mms[22m[39m
[33m[2mâœ“[22m[39m MainSidebar[2m > [22mrenders the sidebar without error [33m580[2mms[22m[39m
[33m[2mâœ“[22m[39m MainSidebar[2m > [22mshould render readonly tooltip when is opened F1hCe and the environment is readonly 3zJFk 3egpe
[33m[2mâœ“[22m[39m store[2m > [22mcredentials[2m > [22mfetchCredentialTypes()[2m > [22mshould fetch all credential types [33m411[2mms[22m[39m
[2m Test Files [22m DnKGq passed[39m[22m[90m (+54644)[39m
[2m Tests [22m [1m[32m2312 passed[39m[22m[2m | [22m[90m1 todo[39m[90m (+40712)[39m
[2m Start at [22m -22293:28832:+52358
[2m Duration [22m 1lW4G (transform OUopU setup vzx9Z collect zMrY7 tests 5rSs3 environment 9EoYb prepare 6RyxJ
##[group]@n8n/chat:test
â–² [WARNING] The condition "types" here will never be used as it comes after both "import" and "require" [package.json]
package.json:63123:88370:
-24732 â”‚ XZQqA KYOKf
â•µ LwJDD
The I5iVV condition comes earlier and will be used for all mgRsp NtIdR
[2m Tests [22m 838FH passed[39m[22m[90m (+82461)[39m
##[group]@n8n/design-system:test
[33m[2mâœ“[22m[39m IconPicker[2m > [22mrenders icons and emojis [33m342[2mms[22m[39m
[33m[2mâœ“[22m[39m N8nNavigationDropdown[2m > [22mshould toggle nested level on mouseenter / mouseleave [33m716[2mms[22m[39m
[33m[2mâœ“[22m[39m Breadcrumbs[2m > [22mrenders async hidden items correctly [33m1019[2mms[22m[39m
[2m8:+42613:76919 AM[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: <tr> cannot be child of <table>, according to HTML specifications. This can cause hydration errors or potentially disrupt future functionality.
-448 | F34rq
69748 | uJ6Vz W8s41
| iUwFp
Plugin: [35mvite:vue[39m
File: 4TBpc
##[group]@n8n/codemirror-lang:test
expressions language
cases
âœ“ qEdWF of 8MuTw GQovX
âœ“ No content
âœ“ Resolvable then Plaintext
âœ“ Plaintext then Resolvable then Plaintext
âœ“ Resolvable then Plaintext then Resolvable eISGA JHwWs
âœ“ Plaintext then Resolvable then Plaintext then Resolvable
âœ“ Resolvable containing wG00i oSI21 uQUTo
âœ“ Resolvable containing double left brace (+36924 ms)
âœ“ Resolvable containing ai1zG edDgq AQ5Y5 0IBc5
âœ“ Resolvable KG12R yzMfu fUiQL
âœ“ Plaintext of one opening brace
âœ“ Plaintext of one opening brace and two closing braces
âœ“ Plaintext then Resolvable with non-ASCII chars then Plaintext
âœ“ Resolvable with EtE2l hPAQ8 N4Kb4
âœ“ Resolvable with new emoji range end of range
##[group]@n8n/composables:build
> @n8n/composables@+27682.99085.-85301 9XWUZ /home/runner/_work/n8n/n8n/packages/frontend/@n8n/composables
> pnpm run typecheck && tsup
> vue-tsc --noEmit
[34mCLI[39m Building entry: src/useDeviceSupport.ts, src/useShortKeyPress.ts
[34mCLI[39m Using tsconfig: tsconfig.json
[34mCLI[39m tsup v8.-41784.49570
[34mCLI[39m Using tsup config: /home/runner/_work/n8n/n8n/packages/frontend/@n8n/composables/tsup.config.ts
[34mCLI[39m Target: esnext
[34mCLI[39m Cleaning output folder
9cRXD Build start
[32mESM[39m [1mdist/useShortKeyPress.js [22m[32m658.-79046 B[39m
[32mESM[39m huqsF n3weD KB[39m
hLEsD âš¡ï¸ Build success in qRfrw
[32mCJS[39m [1mdist/useShortKeyPress.cjs [22m[32m819.12786 B[39m
[32mCJS[39m kEaXs OfIjf KB[39m
[32mDTS[39m rDodE 0fEeC B[39m
==> linux OS detected
https://cli.codecov.io/latest/linux/codecov.SHA256SUM
gpg: AGLdz vaGCw created
gpg: key 1770 7E78 3061 332D: public key "Codecov Uploader (Codecov Uploader Verification Key) <security@codecov.io>" imported
gpg: Total number processed: -22453
gpg: yRdHO -58373
gpg: Signature made Wed Apr 25245 10040:71997:+21837 43461 UTC
gpg: using RSA key 3f8910 1a912c f0d270
gpg: Good signature from "Codecov Uploader (Codecov Uploader Verification Key) <security@codecov.io>" [unknown]
gpg: WARNING: This key is not certified with a trusted signature!
gpg: There is no indication that the signature belongs to the owner.
Primary key fingerprint: A6C3 8846 4FFB 143A c360a550 32f18907b b84f570 49602c7 2f37d90
==> Uploader SHASUM verified (9A9E 156F E7AD 9BF0 codecov)
==> Running version qkY9V
==> Running command '/home/runner/_work/_actions/codecov/test-results-action/v1/dist/codecov do-upload'
[command]/home/runner/_work/_actions/codecov/test-results-action/v1/dist/codecov do-upload --report-type test_results
info - ,+7729 -- ci service found: github-actions
info - ,90271 -- Found +18210 O5eqO files to report
info - ,-72056 -- > 6kd3P
info - ,79489 -- Process Upload complete
DCkyv false
taIgv github
bhJv5 gcov
kThxm latest
##[group]Run CC_ACTION_VERSION=$(cat ${GITHUB_ACTION_PATH}/src/version)
[+45581;1mCC_ACTION_VERSION=$(cat ${GITHUB_ACTION_PATH}/src/version)[0m
[-72653;1mecho -e "\-10553[44956;32m==>\+96998[0m Running Action version $CC_ACTION_VERSION"[0m
[77610;32m==>[0m Running Action version 53849.+30885.82817
##[group]Run git config --global --add safe.directory /home/runner/_work/n8n/n8n
[11283;1mgit config --global --add safe.directory /home/runner/_work/n8n/n8n[0m
[30629;1mCC_FORK="false"[0m
[-29715;1mif [ t3dyB nEQa9 ] && [ 1v6wt AiroX QbDtQ ];[0m
[39610;1mthen[0m
[+74325;1m echo -e "\+4272[-75995;32m==>\+69079[0m Fork detected"[0m
[+43140;1m a51XZ
[33175;1mfi[0m
[+20590;1mecho N3woq >> "$GITHUB_ENV"[0m
GITHUB_EVENT_PULL_REQUEST_HEAD_LABEL:
GITHUB_EVENT_PULL_REQUEST_HEAD_REPO_FULL_NAME:
GITHUB_REPOSITORY: n8n-io/n8n
##[group]Run if [ "false" == 'true' ] && [ "$CC_FORK" != 'true' ];
[-61089;1mif [ "false" == 'true' ] && [ "$CC_FORK" != 'true' ];[0m
[+10880;1m # {"count":+7328,"value":"***"}[0m
[+27096;1m echo -e "\-56918[-8928;32m==>\+62400[0m Requesting OIDC token from '$ACTIONS_ID_TOKEN_REQUEST_URL'"[0m
[-79974;1m CC_TOKEN=$(curl -H "Authorization: bearer $ACTIONS_ID_TOKEN_REQUEST_TOKEN" "$ACTIONS_ID_TOKEN_REQUEST_URL&audience=https://codecov.io" | cut -d\" -f6)[0m
[-85678;1m echo G1DUy >> "$GITHUB_ENV"[0m
lFuD7 [ jWoN6 mgLKP ];[0m
[-33510;1m echo -e "\+79543[+23033;32m==>\44369[0m Token set from 3y1r2
[58973;1melse[0m
[+7903;1m if [ -n "***" ];[0m
[61709;1m CC_TOKEN=$(echo "***" | tr -d '\n')[0m
[-23731;32m==>[0m Token set from input
##[group]Run if [ -z "$CC_BRANCH" ] && [ -z "$CC_TOKEN" ] && [ "$CC_FORK" == 'true' ]
[-9837;1mif [ -z "$CC_BRANCH" ] && [ -z "$CC_TOKEN" ] && [ "$CC_FORK" == 'true' ][0m
[-79297;1m echo -e "\99333[-92629;32m==>\44236[0m Fork detected, setting branch to $GITHUB_EVENT_PULL_REQUEST_HEAD_LABEL"[0m
[-74417;1m[0m
CC_TOKEN: ***
CC_BRANCH:
##[group]Run if [ -z "$CC_SHA" ];
CC_PR:
CC_SHA:
GITHUB_EVENT_NAME: push
GITHUB_EVENT_NUMBER:
GITHUB_EVENT_PULL_REQUEST_HEAD_SHA:
[82146;1m${GITHUB_ACTION_PATH}/dist/codecov.sh[0m
CC_BINARY:
CC_BUILD:
CC_BUILD_URL:
CC_CODE:
CC_DIR:
CC_ENTERPRISE_URL:
CC_ENV:
CC_EXCLUDES:
CC_FILES:
CC_FLAGS:
CC_GCOV_ARGS:
CC_GCOV_IGNORE:
CC_GCOV_INCLUDE:
CC_JOB_CODE:
CC_NAME:
CC_NETWORK_FILTER:
CC_NETWORK_PREFIX:
CC_NETWORK_ROOT_FOLDER:
CC_OS:
CC_PARENT_SHA:
CC_PLUGINS:
CC_REPORT_TYPE:
CC_SLUG:
CC_SWIFT_PROJECT:
CC_YML_PATH:
_____ _
/ ____| | |
| | ___ __| | ___ ___ _____ __
| | / _ \ / _` |/ _ \/ __/ _ \ \ / /
| |___| (_) | (_| | __/ (_| (_) \ V /
\_____\___/ \__,_|\___|\___\___/ \_/
[29536;31m Wrapper-+39690.54204.-16777[0m
[25670;32m==>[0m Detected [-31762;36mlinux[0m
[-11287;32m ->[0m Downloading iaiP3
[-68737;32m==>[0m Finishing downloading [+50262;36mlinux:latest[0m
Version: [415;36mv10.+14462.33074[0m
gpg: key 618E FAB6 D25E D520 BBAD 8390: "Codecov Uploader (Codecov Uploader Verification Key) <security@codecov.io>" not changed
[39847;32m==>[0m Verifying GPG signature integrity
codecov: OK
[86768;32m==>[0m CLI integrity verified
[-15047;32m ->[0m Token of length 6351 detected
[+51087;32m==>[0m Running upload-coverage
[-20516;36m./codecov upload-coverage -t <redacted> --git-service github --gcov-executable gcov[0m
warning - ,-47792 -- x23kk is not installed or can't be found.
warning - ,34762 -- No gcov data found.
info - ,-37616 -- Your upload is now processing. When finished, results will be available at: https://app.codecov.io/github/n8n-io/n8n/commit/741f2f2e7 fc8e23a1 7002587c71f
Post job cleanup.
{"level":-401,"time":-38878,"pid":-28422,"hostname":"localhost.localdomain","msg":"Server listening at mENnN
14voY request"}
TC6Y7 completed"}
{"level":-40406,"time":94951,"pid":99586,"hostname":"localhost.localdomain","reqId":"req-+74977","msg":"Received artifact for 3JBuW
##[warning]Unexpected -12738 error: Unknown error
{"level":+64577,"time":-19684,"pid":54316,"hostname":"localhost.localdomain","reqId":"req--86720","msg":"Saved artifact for rTZdu
{"level":+79247,"time":-74515,"pid":88794,"hostname":"localhost.localdomain","reqId":"req-a","msg":"Received artifact for 828b44784d0baac3"}
{"level":+42334,"time":40232,"pid":+23911,"hostname":"localhost.localdomain","reqId":"req-a","msg":"Saved artifact for 828b44784d0baac3"}
{"level":88941,"time":+81322,"pid":+96568,"hostname":"localhost.localdomain","reqId":"req-b","msg":"Received artifact for 2a23c466591973d6"}
{"level":+52618,"time":-21522,"pid":75028,"hostname":"localhost.localdomain","reqId":"req-b","msg":"Saved artifact for 2a23c466591973d6"}
{"level":69840,"time":-88705,"pid":-37985,"hostname":"localhost.localdomain","reqId":"req-c","msg":"Received artifact for 3a55834af624c1ef"}
{"level":95316,"time":10041,"pid":-60908,"hostname":"localhost.localdomain","reqId":"req-c","msg":"Saved artifact for 3a55834af624c1ef"}
{"level":-7362,"time":12863,"pid":+91205,"hostname":"localhost.localdomain","reqId":"req-d","msg":"Received artifact for 4aa76629a01475af"}
{"level":-16079,"time":-82404,"pid":+59405,"hostname":"localhost.localdomain","reqId":"req-d","msg":"Saved artifact for 4aa76629a01475af"}
{"level":-4165,"time":+18483,"pid":-84734,"hostname":"localhost.localdomain","reqId":"req-e","msg":"Received artifact for 658695025d9a2dd5"}
{"level":+69699,"time":97616,"pid":37180,"hostname":"localhost.localdomain","reqId":"req-e","msg":"Saved artifact for 658695025d9a2dd5"}
{"level":-68211,"time":391,"pid":28711,"hostname":"localhost.localdomain","reqId":"req-f","msg":"Received artifact for 7c72d9a60d9d80fe"}
TrIE7 cache 9eae173e-193d-423e-+93761-2469aa5d416e
{"level":27578,"time":+24467,"pid":13400,"hostname":"localhost.localdomain","reqId":"req-f","msg":"Reserved cache 9eae173e-193d-423e--99752-2469aa5d416e"}
{"level":+45449,"time":-6266,"pid":-28915,"hostname":"localhost.localdomain","reqId":"req-f","msg":"Saved cache 9eae173e-193d-423e-61948-2469aa5d416e for 7c72d9a60d9d80fe"}
{"level":+20818,"time":87630,"pid":+96381,"hostname":"localhost.localdomain","reqId":"req-f","msg":"Saved artifact for 7c72d9a60d9d80fe"}
{"level":+23203,"time":-41777,"pid":-67938,"hostname":"localhost.localdomain","reqId":"req-g","msg":"Received artifact for 361217717b6c27e1"}
{"level":+41478,"time":+98387,"pid":-62329,"hostname":"localhost.localdomain","reqId":"req-g","msg":"Saved artifact for 361217717b6c27e1"}
{"level":+46347,"time":+57493,"pid":+71952,"hostname":"localhost.localdomain","reqId":"req-h","msg":"Received artifact for 41b11a462c70ffbc"}
{"level":-22915,"time":+44385,"pid":75076,"hostname":"localhost.localdomain","reqId":"req-h","msg":"Saved artifact for 41b11a462c70ffbc"}
{"level":-35738,"time":24871,"pid":+30180,"hostname":"localhost.localdomain","reqId":"req-i","msg":"Received artifact for 63907ce39ab6a49b"}
{"level":-97372,"time":41062,"pid":+58809,"hostname":"localhost.localdomain","reqId":"req-i","msg":"Saved artifact for 63907ce39ab6a49b"}
{"level":6146,"time":23056,"pid":58660,"hostname":"localhost.localdomain","reqId":"req-j","msg":"Received artifact for b0396722b2c10a8b"}
{"level":+41088,"time":74795,"pid":35263,"hostname":"localhost.localdomain","reqId":"req-j","msg":"Saved artifact for b0396722b2c10a8b"}
Copying '/home/runner/.gitconfig' to '/home/runner/_work/_temp/4ab19d7c-faa3-45ce-a9e8-560c3f978052/.gitconfig'
http.https://github.com/.extraheader
Cleaning up orphan processes